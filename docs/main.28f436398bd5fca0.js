(self.webpackChunkpgn_viewer=self.webpackChunkpgn_viewer||[]).push([[179],{0:(Ir,Qi,wl)=>{"use strict";function $e(n){return"function"==typeof n}function b(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const bl=b(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Yi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if($e(r))try{r()}catch(o){e=o instanceof bl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Vs(o)}catch(l){e=null!=e?e:[],l instanceof bl?e=[...e,...l.errors]:e.push(l)}}if(e)throw new bl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Vs(e);else{if(e instanceof vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yi(t,e)}remove(e){const{_finalizers:t}=this;t&&Yi(t,e),e instanceof vt&&e._removeParent(this)}}vt.EMPTY=(()=>{const n=new vt;return n.closed=!0,n})();const rn=vt.EMPTY;function ld(n){return n instanceof vt||n&&"closed"in n&&$e(n.remove)&&$e(n.add)&&$e(n.unsubscribe)}function Vs(n){$e(n)?n():n.unsubscribe()}const Si={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mi={setTimeout(n,e,...t){const{delegate:r}=Mi;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Mi;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Tr(n){Mi.setTimeout(()=>{const{onUnhandledError:e}=Si;if(!e)throw n;e(n)})}function js(){}const Xi=$t("C",void 0,void 0);function $t(n,e,t){return{kind:n,value:e,error:t}}let on=null;function Wo(n){if(Si.useDeprecatedSynchronousErrorHandling){const e=!on;if(e&&(on={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=on;if(on=null,t)throw r}}else n()}class Jr extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ld(e)&&e.add(this)):this.destination=$p}static create(e,t,r){return new ti(e,t,r)}next(e){this.isStopped?Cl(function Us(n){return $t("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cl(function Ji(n){return $t("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cl(Xi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yn=Function.prototype.bind;function ei(n,e){return Yn.call(n,e)}class Sr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){eo(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){eo(r)}else eo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eo(t)}}}class ti extends Jr{constructor(e,t,r){let i;if(super(),$e(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&Si.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ei(e.next,o),error:e.error&&ei(e.error,o),complete:e.complete&&ei(e.complete,o)}):i=e}this.destination=new Sr(i)}}function eo(n){Si.useDeprecatedSynchronousErrorHandling?function Qn(n){Si.useDeprecatedSynchronousErrorHandling&&on&&(on.errorThrown=!0,on.error=n)}(n):Tr(n)}function Cl(n,e){const{onStoppedNotification:t}=Si;t&&Mi.setTimeout(()=>t(n,e))}const $p={closed:!0,next:js,error:function Wp(n){throw n},complete:js},El="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ws(n){return n}let qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function $s(n){return n&&n instanceof Jr||function zp(n){return n&&$e(n.next)&&$e(n.error)&&$e(n.complete)}(n)&&ld(n)}(t)?t:new ti(t,r,i);return Wo(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Mr(r))((i,o)=>{const l=new ti({next:c=>{try{t(c)}catch(d){o(d),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[El](){return this}pipe(...t){return function cd(n){return 0===n.length?Ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Mr(t))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=e=>new n(e),n})();function Mr(n){var e;return null!==(e=null!=n?n:Si.Promise)&&void 0!==e?e:Promise}const Xn=b(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ze=(()=>{class n extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ud(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Xn}next(t){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?rn:(this.currentObservers=null,o.push(t),new vt(()=>{this.currentObservers=null,Yi(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return n.create=(e,t)=>new ud(e,t),n})();class ud extends ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rn}}function St(n){return e=>{if(function Kp(n){return $e(null==n?void 0:n.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zt(n,e,t,r,i){return new Gp(n,e,t,r,i)}class Gp extends Jr{constructor(e,t,r,i,o,l){super(e),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=t?function(c){try{t(c)}catch(d){e.error(d)}}:super._next,this._error=i?function(c){try{i(c)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function to(n,e){return St((t,r)=>{let i=0;t.subscribe(zt(r,o=>{r.next(n.call(e,o,i++))}))})}function Rn(n){return this instanceof Rn?(this.v=n,this):new Rn(n)}function Qp(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(y){r[y]&&(i[y]=function(C){return new Promise(function(M,k){o.push([y,C,M,k])>1||c(y,C)})})}function c(y,C){try{!function d(y){y.value instanceof Rn?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}(r[y](C))}catch(M){m(o[0][3],M)}}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,C){y(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ro(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function no(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(c,d){!function i(o,l,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},l)}(c,d,(l=n[o](l)).done,l.value)})}}}const qs=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Zs(n){return $e(null==n?void 0:n.then)}function Qs(n){return $e(n[El])}function md(n){return Symbol.asyncIterator&&$e(null==n?void 0:n[Symbol.asyncIterator])}function _d(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Al=function Yp(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xl(n){return $e(null==n?void 0:n[Al])}function vd(n){return Qp(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Rn(t.read());if(i)return yield Rn(void 0);yield yield Rn(r)}}finally{t.releaseLock()}})}function yd(n){return $e(null==n?void 0:n.getReader)}function Ar(n){if(n instanceof qe)return n;if(null!=n){if(Qs(n))return function Xp(n){return new qe(e=>{const t=n[El]();if($e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(qs(n))return function Dd(n){return new qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Zs(n))return function Jp(n){return new qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Tr)})}(n);if(md(n))return wd(n);if(xl(n))return function eg(n){return new qe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(yd(n))return function Pl(n){return wd(vd(n))}(n)}throw _d(n)}function wd(n){return new qe(e=>{(function tg(n,e){var t,r,i,o;return function Zp(n,e,t,r){return new(t||(t=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?o(p.value):function i(o){return o instanceof t?o:new t(function(l){l(o)})}(p.value).then(c,d)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ro(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function er(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function bd(n,e,t=1/0){return $e(e)?bd((r,i)=>to((o,l)=>e(r,o,i,l))(Ar(n(r,i))),t):("number"==typeof e&&(t=e),St((r,i)=>function ng(n,e,t,r,i,o,l,c){const d=[];let f=0,p=0,m=!1;const y=()=>{m&&!d.length&&!f&&e.complete()},C=k=>f<r?M(k):d.push(k),M=k=>{o&&e.next(k),f++;let L=!1;Ar(t(k,p++)).subscribe(zt(e,H=>{null==i||i(H),o?C(H):e.next(H)},()=>{L=!0},void 0,()=>{if(L)try{for(f--;d.length&&f<r;){const H=d.shift();l?er(e,l,()=>M(H)):M(H)}y()}catch(H){e.error(H)}}))};return n.subscribe(zt(e,C,()=>{m=!0,y()})),()=>{null==c||c()}}(r,i,n,t)))}function Cd(n=1/0){return bd(Ws,n)}const Fl=new qe(n=>n.complete());function Ed(n){return n&&$e(n.schedule)}function Rl(n){return n[n.length-1]}function kl(n){return Ed(Rl(n))?n.pop():void 0}function Id(n,e=0){return St((t,r)=>{t.subscribe(zt(r,i=>er(r,n,()=>r.next(i),e),()=>er(r,n,()=>r.complete(),e),i=>er(r,n,()=>r.error(i),e)))})}function Td(n,e=0){return St((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zo(n,e){if(!n)throw new Error("Iterable cannot be null");return new qe(t=>{er(t,e,()=>{const r=n[Symbol.asyncIterator]();er(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ol(n,e){return e?function ug(n,e){if(null!=n){if(Qs(n))return function sg(n,e){return Ar(n).pipe(Td(e),Id(e))}(n,e);if(qs(n))return function Ys(n,e){return new qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Zs(n))return function ag(n,e){return Ar(n).pipe(Td(e),Id(e))}(n,e);if(md(n))return zo(n,e);if(xl(n))return function lg(n,e){return new qe(t=>{let r;return er(t,e,()=>{r=n[Al](),er(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void t.error(l)}o?t.complete():t.next(i)},0,!0)}),()=>$e(null==r?void 0:r.return)&&r.return()})}(n,e);if(yd(n))return function cg(n,e){return zo(vd(n),e)}(n,e)}throw _d(n)}(n,e):Ar(n)}function Xs(...n){const e=kl(n),t=function og(n,e){return"number"==typeof Rl(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ar(r[0]):Cd(t)(Ol(r,e)):Fl}function Js(n){return n<=0?()=>Fl:St((e,t)=>{let r=0;e.subscribe(zt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ll(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Js(1)).subscribe(()=>n())}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ea(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Md=Oe({__forward_ref__:Oe});function ta(n){return n.__forward_ref__=ta,n.toString=function(){return xe(this())},n}function ae(n){return function Ad(n){return"function"==typeof n&&n.hasOwnProperty(Md)&&n.__forward_ref__===ta}(n)?n():n}class Ce extends Error{constructor(e,t){super(function na(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function Ko(n,e){const t=e?` in ${e}`:"";throw new Ce(-201,`No provider for ${Mt(n)} found${t}`)}function Kt(n,e){null==n&&function je(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bl(n){return kd(n,ra)||kd(n,Od)}function kd(n,e){return n.hasOwnProperty(e)?n[e]:null}function Le(n){return n&&(n.hasOwnProperty(Hl)||n.hasOwnProperty(vg))?n[Hl]:null}const ra=Oe({\u0275prov:Oe}),Hl=Oe({\u0275inj:Oe}),Od=Oe({ngInjectableDef:Oe}),vg=Oe({ngInjectorDef:Oe});var le=(()=>((le=le||{})[le.Default=0]="Default",le[le.Host=1]="Host",le[le.Self=2]="Self",le[le.SkipSelf=4]="SkipSelf",le[le.Optional=8]="Optional",le))();let Vl;function ri(n){const e=Vl;return Vl=n,e}function dt(n,e,t){const r=Bl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&le.Optional?null:void 0!==e?e:void Ko(xe(n),"Injector")}function _n(n){return{toString:n}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),On=(()=>{return(n=On||(On={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",On;var n})();const Bd="undefined"!=typeof globalThis&&globalThis,Hd="undefined"!=typeof window&&window,Vd="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=Bd||"undefined"!=typeof global&&global||Hd||Vd,yt={},Ne=[],Go=Oe({\u0275cmp:Oe}),nr=Oe({\u0275dir:Oe}),oo=Oe({\u0275pipe:Oe}),ia=Oe({\u0275mod:Oe}),Ie=Oe({\u0275fac:Oe}),Dn=Oe({__NG_ELEMENT_ID__:Oe});let jl=0;function qo(n){return _n(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ne,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||On.Emulated,id:"c",styles:n.styles||Ne,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,l=n.pipes;return r.id+=jl++,r.inputs=xi(n.inputs,t),r.outputs=xi(n.outputs),o&&o.forEach(c=>c(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(jd):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(Ud):null,r})}function jd(n){return Dt(n)||function rr(n){return n[nr]||null}(n)}function Ud(n){return function Fr(n){return n[oo]||null}(n)}const Wd={};function Pr(n){return _n(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ne,declarations:n.declarations||Ne,imports:n.imports||Ne,exports:n.exports||Ne,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Wd[n.id]=n.type),e})}function xi(n,e){if(null==n)return yt;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const sn=qo;function Vt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Dt(n){return n[Go]||null}function an(n,e){const t=n[ia]||null;if(!t&&!0===e)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return t}function ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function Nn(n){return Array.isArray(n)&&!0===n[1]}function $l(n){return 0!=(8&n.flags)}function ki(n){return 2==(2&n.flags)}function I(n){return 1==(1&n.flags)}function P(n){return null!==n.template}function x(n){return 0!=(512&n[2])}function or(n,e){return n.hasOwnProperty(Ie)?n[Ie]:null}class Kd{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rr(){return Yl}function Yl(n){return n.type.prototype.ngOnChanges&&(n.setInput=la),Gd}function Gd(){const n=co(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===yt)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function la(n,e,t,r){const i=co(n)||function Li(n,e){return n[Xl]=e}(n,{previous:yt,current:null}),o=i.current||(i.current={}),l=i.previous,c=this.declaredInputs[t],d=l[c];o[c]=new Kd(d&&d.currentValue,e,l===yt),n[r]=e}Rr.ngInherit=!0;const Xl="__ngSimpleChanges__";function co(n){return n[Xl]||null}let ua;function tc(){return void 0!==ua?ua:"undefined"!=typeof document?document:void 0}function ve(n){return!!n.listen}const qd={createRenderer:(n,e)=>tc()};function Je(n){for(;Array.isArray(n);)n=n[0];return n}function oi(n,e){return Je(e[n])}function qt(n,e){return Je(e[n.index])}function Ni(n,e){return n.data[e]}function sr(n,e){return n[e]}function xt(n,e){const t=e[n];return ir(t)?t:t[0]}function Bi(n){return 4==(4&n[2])}function nc(n){return 128==(128&n[2])}function si(n,e){return null==e?null:n[e]}function Qd(n){n[18]=0}function rc(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Y={lFrame:cc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function es(){return Y.bindingsEnabled}function N(){return Y.lFrame.lView}function Ee(){return Y.lFrame.tView}function Zt(n){return Y.lFrame.contextLView=n,n[8]}function We(){let n=Xd();for(;null!==n&&64===n.type;)n=n.parent;return n}function Xd(){return Y.lFrame.currentTNode}function ar(n,e){const t=Y.lFrame;t.currentTNode=n,t.isParent=e}function ic(){return Y.lFrame.isParent}function fa(){return Y.isInCheckNoChangesMode}function ha(n){Y.isInCheckNoChangesMode=n}function jt(){const n=Y.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function go(){return Y.lFrame.bindingIndex++}function Fg(n,e){const t=Y.lFrame;t.bindingIndex=t.bindingRootIndex=n,sc(e)}function sc(n){Y.lFrame.currentDirectiveIndex=n}function Cn(){return Y.lFrame.currentQueryIndex}function lc(n){Y.lFrame.currentQueryIndex=n}function Rg(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ef(n,e,t){if(t&le.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&le.Host||(i=Rg(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Y.lFrame=tf();return r.currentTNode=e,r.lView=n,!0}function pa(n){const e=tf(),t=n[1];Y.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tf(){const n=Y.lFrame,e=null===n?null:n.child;return null===e?cc(n):e}function cc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function uc(){const n=Y.lFrame;return Y.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nf=uc;function ga(){const n=uc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gt(){return Y.lFrame.selectedIndex}function li(n){Y.lFrame.selectedIndex=n}function Ze(){const n=Y.lFrame;return Ni(n.tView,n.selectedIndex)}function rs(){Y.lFrame.currentNamespace="svg"}function is(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:p}=o;l&&(n.contentHooks||(n.contentHooks=[])).push(-t,l),c&&((n.contentHooks||(n.contentHooks=[])).push(t,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,c)),d&&(n.viewHooks||(n.viewHooks=[])).push(-t,d),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(t,p)}}function os(n,e,t){fc(n,e,3,t)}function ci(n,e,t,r){(3&n[2])===t&&fc(n,e,t,r)}function cr(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function fc(n,e,t,r){const o=null!=r?r:-1,l=e.length-1;let c=0;for(let d=void 0!==r?65535&n[18]:0;d<l;d++)if("number"==typeof e[d+1]){if(c=e[d],null!=r&&c>=r)break}else e[d]<0&&(n[18]+=65536),(c<o||-1==o)&&(Og(n,t,e,d),n[18]=(4294901760&n[18])+d+2),d++}function Og(n,e,t,r){const i=t[r]<0,o=t[r+1],c=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(c)}finally{}}}else try{o.call(c)}finally{}}class ss{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function as(n,e,t){const r=ve(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const l=t[i++],c=t[i++],d=t[i++];r?n.setAttribute(e,c,d,l):e.setAttributeNS(l,c,d)}else{const l=o,c=t[++i];ls(l)?r&&n.setProperty(e,l,c):r?n.setAttribute(e,l,c):e.setAttribute(l,c),i++}}return i}function Pt(n){return 3===n||4===n||6===n}function ls(n){return 64===n.charCodeAt(0)}function va(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sf(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sf(n,e,t,r,i){let o=0,l=n.length;if(-1===e)l=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===e){l=-1;break}if(c>e){l=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(n.splice(l,0,e),o=l+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function af(n){return-1!==n}function ui(n){return 32767&n}function dr(n,e){let t=function Lg(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let ya=!0;function Da(n){const e=ya;return ya=n,e}let Ng=0;function vo(n,e){const t=_c(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,mc(r.data,n),mc(e,null),mc(r.blueprint,null));const i=wa(n,e),o=n.injectorIndex;if(af(i)){const l=ui(i),c=dr(i,e),d=c[1].data;for(let f=0;f<8;f++)e[o+f]=c[l+f]|d[l+f]}return e[o+8]=i,o}function mc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _c(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function wa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],l=o.type;if(r=2===l?o.declTNode:1===l?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function cs(n,e,t){!function gc(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Dn)&&(r=t[Dn]),null==r&&(r=t[Dn]=Ng++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function cf(n,e,t){if(t&le.Optional)return n;Ko(e,"NodeInjector")}function ba(n,e,t,r){if(t&le.Optional&&void 0===r&&(r=null),0==(t&(le.Self|le.Host))){const i=n[9],o=ri(void 0);try{return i?i.get(e,r,t&le.Optional):dt(e,r,t&le.Optional)}finally{ri(o)}}return cf(r,e,t)}function yc(n,e,t,r=le.Default,i){if(null!==n){const o=function df(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Dn)?n[Dn]:void 0;return"number"==typeof e?e>=0?255&e:uf:e}(t);if("function"==typeof o){if(!ef(e,n,r))return r&le.Host?cf(i,t,r):ba(e,t,r,i);try{const l=o(r);if(null!=l||r&le.Optional)return l;Ko(t)}finally{nf()}}else if("number"==typeof o){let l=null,c=_c(n,e),d=-1,f=r&le.Host?e[16][6]:null;for((-1===c||r&le.SkipSelf)&&(d=-1===c?wa(n,e):e[c+8],-1!==d&&wc(r,!1)?(l=e[1],c=ui(d),e=dr(d,e)):c=-1);-1!==c;){const p=e[1];if(ff(o,c,p.data)){const m=Ca(c,e,t,l,r,f);if(m!==Dc)return m}d=e[c+8],-1!==d&&wc(r,e[1].data[c+8]===f)&&ff(o,c,e)?(l=p,c=ui(d),e=dr(d,e)):c=-1}}}return ba(e,t,r,i)}const Dc={};function uf(){return new Do(We(),N())}function Ca(n,e,t,r,i,o){const l=e[1],c=l.data[n+8],p=Ea(c,l,t,null==r?ki(c)&&ya:r!=l&&0!=(3&c.type),i&le.Host&&o===c);return null!==p?yo(e,l,p,c):Dc}function Ea(n,e,t,r,i){const o=n.providerIndexes,l=e.data,c=1048575&o,d=n.directiveStart,p=o>>20,y=i?c+p:n.directiveEnd;for(let C=r?c:c+p;C<y;C++){const M=l[C];if(C<d&&t===M||C>=d&&M.type===t)return C}if(i){const C=l[d];if(C&&P(C)&&C.type===t)return d}return null}function yo(n,e,t,r){let i=n[t];const o=e.data;if(function rf(n){return n instanceof ss}(i)){const l=i;l.resolving&&function xd(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${n}${t}`)}(Mt(o[t]));const c=Da(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?ri(l.injectImpl):null;ef(n,r,le.Default);try{i=n[t]=l.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function kg(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const l=Yl(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,l),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,l)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==d&&ri(d),Da(c),l.resolving=!1,nf()}}return i}function ff(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function wc(n,e){return!(n&le.Self||n&le.Host&&e)}class Do{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yc(this._tNode,this._lView,e,r,t)}}const di="__parameters__";function fr(n,e,t){return _n(()=>{const r=function Cc(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(d,f,p){const m=d.hasOwnProperty(di)?d[di]:Object.defineProperty(d,di,{value:[]})[di];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(l),d}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Qt(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Qt(r,e)):e!==n&&e.push(r)}return e}function Sn(n,e){n.forEach(t=>Array.isArray(t)?Sn(t,e):e(t))}function Nr(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ta(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Yt(n,e,t){let r=Eo(n,e);return r>=0?n[1|r]=t:(r=~r,function Tc(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Sa(n,e){const t=Eo(n,e);if(t>=0)return n[1|t]}function Eo(n,e){return function Sc(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),l=n[o<<t];if(e===l)return o<<t;l>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Io={},fi="__NG_DI_FLAG__",hi="ngTempTokenPath",Df=/\n/gm,fs="__source",bf=Oe({provide:String,useValue:Oe});let pi;function xa(n){const e=pi;return pi=n,e}function Pa(n,e=le.Default){if(void 0===pi)throw new Ce(203,"");return null===pi?dt(n,void 0,e):pi.get(n,e&le.Optional?null:void 0,e)}function _e(n,e=le.Default){return(function Ld(){return Vl}()||Pa)(ae(n),e)}const hs=_e;function Fa(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ce(900,"");let i,o=le.Default;for(let l=0;l<r.length;l++){const c=r[l],d=Kg(c);"number"==typeof d?-1===d?i=c.token:o|=d:i=c}e.push(_e(i,o))}else e.push(_e(r))}return e}function Wi(n,e){return n[fi]=e,n.prototype[fi]=e,n}function Kg(n){return n[fi]}const ps=Wi(fr("Optional"),8),gs=Wi(fr("SkipSelf"),4);let Na,Ha;function So(n){var e;return(null===(e=function Ba(){if(void 0===Na&&(Na=null,Pe.trustedTypes))try{Na=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Na}())||void 0===e?void 0:e.createHTML(n))||n}function Rt(n){var e;return(null===(e=function Wn(){if(void 0===Ha&&(Ha=null,Pe.trustedTypes))try{Ha=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ha}())||void 0===e?void 0:e.createHTML(n))||n}class ja{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function mi(n){return n instanceof ja?n.changingThisBreaksApplicationSecurity:n}function _s(n,e){const t=function Jg(n){return n instanceof ja&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class vs{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(So(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Pc{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=So(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=So(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const l=t.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&e.removeAttribute(l)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Of=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function un(n){return(n=String(n)).match(Of)||n.match(Lf)?n:"unsafe:"+n}function pr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Mo(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Nf=pr("area,br,col,hr,img,wbr"),Bf=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hf=pr("rp,rt"),Rc=Mo(Nf,Mo(Bf,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mo(Hf,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mo(Hf,Bf)),kc=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oc=pr("srcset"),Lc=Mo(kc,Oc,pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vf=pr("script,style,template");class jf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Rc.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vf.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!Lc.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let d=o.value;kc[c]&&(d=un(d)),Oc[c]&&(n=d,d=(n=String(n)).split(",").map(e=>un(e.trim())).join(", ")),this.buf.push(" ",l,'="',Uf(d),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Rc.hasOwnProperty(t)&&!Nf.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Uf(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const nm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rm=/([^\#-~ |!])/g;function Uf(n){return n.replace(/&/g,"&amp;").replace(nm,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(rm,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ys;function Nc(n){return"content"in n&&function om(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ot=(()=>((ot=ot||{})[ot.NONE=0]="NONE",ot[ot.HTML=1]="HTML",ot[ot.STYLE=2]="STYLE",ot[ot.SCRIPT=3]="SCRIPT",ot[ot.URL=4]="URL",ot[ot.RESOURCE_URL=5]="RESOURCE_URL",ot))();function Wf(n){const e=$i();return e?Rt(e.sanitize(ot.HTML,n)||""):_s(n,"HTML")?Rt(mi(n)):function im(n,e){let t=null;try{ys=ys||function xc(n){const e=new Pc(n);return function kf(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch(n){return!1}}()?new vs(e):e}(n);let r=e?String(e):"";t=ys.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=ys.getInertBodyElement(r)}while(r!==o);return So((new jf).sanitizeChildren(Nc(t)||t))}finally{if(t){const r=Nc(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(tc(),ie(n))}function bt(n){const e=$i();return e?e.sanitize(ot.URL,n)||"":_s(n,"URL")?mi(n):un(ie(n))}function $i(){const n=N();return n&&n[12]}const Gf="__ngContext__";function kt(n,e){n[Gf]=e}function Hc(n){const e=function Ds(n){return n[Gf]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function jc(n){return n.ngOriginalError}function Yf(n,...e){n.error(...e)}class ws{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Uc(n){return n&&n.ngErrorLogger||Yf}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jc(e);for(;t&&jc(t);)t=jc(t);return t||null}}const Tm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function gr(n){return n instanceof Function?n():n}var dn=(()=>((dn=dn||{})[dn.Important=1]="Important",dn[dn.DashCase=2]="DashCase",dn))();function $c(n,e){return undefined(n,e)}function bs(n){const e=n[3];return Nn(e)?e[3]:e}function Gc(n){return nh(n[13])}function qc(n){return nh(n[4])}function nh(n){for(;null!==n&&!Nn(n);)n=n[4];return n}function Hr(n,e,t,r,i){if(null!=r){let o,l=!1;Nn(r)?o=r:ir(r)&&(l=!0,r=r[0]);const c=Je(r);0===n&&null!==t?null==i?eu(e,t,c):vi(e,t,c,i||null,!0):1===n&&null!==t?vi(e,t,c,i||null,!0):2===n?function dh(n,e,t){const r=$a(n,e);r&&function Bm(n,e,t,r){ve(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,c,l):3===n&&e.destroyNode(c),null!=o&&function Vm(n,e,t,r,i){const o=t[7];o!==Je(t)&&Hr(e,n,r,o,i);for(let c=10;c<t.length;c++){const d=t[c];Is(d[1],d,n,e,r,o)}}(e,n,o,t,i)}}function Qc(n,e,t){if(ve(n))return n.createElement(e,t);{const r=null!==t?function Ig(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function ih(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,rc(i,-1)),t.splice(r,1)}function xo(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&ih(i,r),e>0&&(n[t-1][4]=r[4]);const o=Ta(n,10+e);!function Fm(n,e){Is(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const l=o[19];null!==l&&l.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function oh(n,e){if(!(256&e[2])){const t=e[11];ve(t)&&t.destroyNode&&Is(n,e,t,3,null,null),function Om(n){let e=n[13];if(!e)return Wa(n[1],n);for(;e;){let t=null;if(ir(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ir(e)&&Wa(e[1],e),e=e[3];null===e&&(e=n),ir(e)&&Wa(e[1],e),t=e&&e[4]}e=t}}(e)}}function Wa(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Yc(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ss)){const o=t[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],d=o[l+1];try{d.call(c)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function sh(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const l=t[o+1],c="function"==typeof l?l(e):Je(e[l]),d=r[i=t[o+2]],f=t[o+3];"boolean"==typeof f?c.removeEventListener(t[o],d,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),o+=2}else{const l=r[i=t[o+1]];t[o].call(l)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&ve(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Nn(e[3])){t!==e[3]&&ih(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Xc(n,e,t){return function Jc(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===On.None||i===On.Emulated)return null}return qt(r,t)}(n,e.parent,t)}function vi(n,e,t,r,i){ve(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function eu(n,e,t){ve(n)?n.appendChild(e,t):e.appendChild(t)}function ah(n,e,t,r,i){null!==r?vi(n,e,t,r,i):eu(n,e,t)}function $a(n,e){return ve(n)?n.parentNode(e):e.parentNode}let ch=function lh(n,e,t){return 40&n.type?qt(n,t):null};function Ka(n,e,t,r){const i=Xc(n,r,e),o=e[11],c=function Cs(n,e,t){return ch(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let d=0;d<t.length;d++)ah(o,i,t[d],c,!1);else ah(o,i,t,c,!1)}function Ga(n,e){if(null!==e){const t=e.type;if(3&t)return qt(e,n);if(4&t)return nu(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ga(n,r);{const i=n[e.index];return Nn(i)?nu(-1,i):Je(i)}}if(32&t)return $c(e,n)()||Je(n[e.index]);{const r=uh(n,e);return null!==r?Array.isArray(r)?r[0]:Ga(bs(n[16]),r):Ga(n,e.next)}}return null}function uh(n,e){return null!==e?n[16][6].projection[e.projection]:null}function nu(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Ga(r,i)}return e[7]}function ru(n,e,t,r,i,o,l){for(;null!=t;){const c=r[t.index],d=t.type;if(l&&0===e&&(c&&kt(Je(c),r),t.flags|=4),64!=(64&t.flags))if(8&d)ru(n,e,t.child,r,i,o,!1),Hr(e,n,i,c,o);else if(32&d){const f=$c(t,r);let p;for(;p=f();)Hr(e,n,i,p,o);Hr(e,n,i,c,o)}else 16&d?fh(n,e,r,t,i,o):Hr(e,n,i,c,o);t=l?t.projectionNext:t.next}}function Is(n,e,t,r,i,o){ru(t,r,n.firstChild,e,i,o,!1)}function fh(n,e,t,r,i,o){const l=t[16],d=l[6].projection[r.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++)Hr(e,n,i,d[f],o);else ru(n,e,d,l[3],i,o,!0)}function hh(n,e,t){ve(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function fn(n,e,t){ve(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function ph(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const yi="ng-template";function ue(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==ph(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gh(n){return 4===n.type&&n.value!==yi}function Jt(n,e,t){return e===(4!==n.type||t?n.value:yi)}function et(n,e,t){let r=4;const i=n.attrs||[],o=function Wm(n){for(let e=0;e<n.length;e++)if(Pt(n[e]))return e;return n.length}(i);let l=!1;for(let c=0;c<e.length;c++){const d=e[c];if("number"!=typeof d){if(!l)if(4&r){if(r=2|1&r,""!==d&&!Jt(n,d,t)||""===d&&1===e.length){if($n(r))return!1;l=!0}}else{const f=8&r?d:e[++c];if(8&r&&null!==n.attrs){if(!ue(n.attrs,f,t)){if($n(r))return!1;l=!0}continue}const m=Di(8&r?"class":d,i,gh(n),t);if(-1===m){if($n(r))return!1;l=!0;continue}if(""!==f){let y;y=m>o?"":i[m+1].toLowerCase();const C=8&r?y:null;if(C&&-1!==ph(C,f,0)||2&r&&f!==y){if($n(r))return!1;l=!0}}}}else{if(!l&&!$n(r)&&!$n(d))return!1;if(l&&$n(d))continue;l=!1,r=d|1&r}}return $n(r)||l}function $n(n){return 0==(1&n)}function Di(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const l=e[i];if(l===n)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function $m(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function mh(n,e,t=!1){for(let r=0;r<e.length;r++)if(et(n,e[r],t))return!0;return!1}function qa(n,e){return n?":not("+e.trim()+")":e}function Km(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let l=n[t];if("string"==typeof l)if(2&r){const c=n[++t];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!$n(l)&&(e+=qa(o,i),i=""),r=l,o=o||!$n(r);t++}return""!==i&&(e+=qa(o,i)),e}const ee={};function re(n){Qe(Ee(),N(),gt()+n,fa())}function Qe(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&os(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ci(e,o,0,t)}li(t)}function Za(n,e){return n<<17|e<<2}function zn(n){return n>>17&32767}function ou(n){return 2|n}function jr(n){return(131068&n)>>2}function Qa(n,e){return-131069&n|e<<2}function Ts(n){return 1|n}function Ch(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const l=n.data[o];lc(i),l.contentQueries(2,e[o],o)}}}function Ss(n,e,t,r,i,o,l,c,d,f){const p=e.blueprint.slice();return p[0]=i,p[2]=140|r,Qd(p),p[3]=p[15]=n,p[8]=t,p[10]=l||n&&n[10],p[11]=c||n&&n[11],p[12]=d||n&&n[12]||null,p[9]=f||n&&n[9]||null,p[6]=o,p[16]=2==e.type?n[16]:p,p}function Ro(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Ja(n,e,t,r,i){const o=Xd(),l=ic(),d=n.data[e]=function Ph(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=d),null!==o&&(l?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d)),d}(n,e,t,r,i),function Pg(){return Y.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const l=function ts(){const n=Y.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return ar(o,!0),o}function ko(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ms(n,e,t){pa(e);try{const r=n.viewQuery;null!==r&&xs(1,r,t);const i=n.template;null!==i&&mu(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ch(n,e),n.staticViewQueries&&xs(2,n.viewQuery,t);const o=n.components;null!==o&&function Xm(n,e){for(let t=0;t<e.length;t++)g_(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ga()}}function Oo(n,e,t,r){const i=e[2];if(256==(256&i))return;pa(e);const o=fa();try{Qd(e),function lr(n){return Y.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mu(n,e,t,2,r);const l=3==(3&i);if(!o)if(l){const f=n.preOrderCheckHooks;null!==f&&os(e,f,null)}else{const f=n.preOrderHooks;null!==f&&ci(e,f,0,null),cr(e,0)}if(function p_(n){for(let e=Gc(n);null!==e;e=qc(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&rc(o,1),i[2]|=1024}}}(e),function h_(n){for(let e=Gc(n);null!==e;e=qc(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];nc(r)&&Oo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Ch(n,e),!o)if(l){const f=n.contentCheckHooks;null!==f&&os(e,f)}else{const f=n.contentHooks;null!==f&&ci(e,f,1),cr(e,1)}!function Ym(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)li(~i);else{const o=i,l=t[++r],c=t[++r];Fg(l,o),c(2,e[o])}}}finally{li(-1)}}(n,e);const c=n.components;null!==c&&function Eh(n,e){for(let t=0;t<e.length;t++)Cu(n,e[t])}(e,c);const d=n.viewQuery;if(null!==d&&xs(2,d,r),!o)if(l){const f=n.viewCheckHooks;null!==f&&os(e,f)}else{const f=n.viewHooks;null!==f&&ci(e,f,2),cr(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,rc(e[3],-1))}finally{ga()}}function Ih(n,e,t,r){const i=e[10],o=!fa(),l=Bi(e);try{o&&!l&&i.begin&&i.begin(),l&&Ms(n,e,r),Oo(n,e,t,r)}finally{o&&!l&&i.end&&i.end()}}function mu(n,e,t,r,i){const o=gt(),l=2&r;try{li(-1),l&&e.length>20&&Qe(n,e,20,fa()),t(r,i)}finally{li(o)}}function _u(n,e,t){!es()||(function s_(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||vo(t,e),kt(r,e);const l=t.initialInputs;for(let c=i;c<o;c++){const d=n.data[c],f=P(d);f&&d_(e,t,d);const p=yo(e,n,c,t);kt(p,e),null!==l&&bu(0,c-i,p,d,0,l),f&&(xt(t.index,e)[8]=p)}}(n,e,t,qt(t,e)),128==(128&t.flags)&&function a_(n,e,t){const r=t.directiveStart,i=t.directiveEnd,l=t.index,c=function Hi(){return Y.lFrame.currentDirectiveIndex}();try{li(l);for(let d=r;d<i;d++){const f=n.data[d],p=e[d];sc(d),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&kh(f,p)}}finally{li(-1),sc(c)}}(n,e,t))}function vu(n,e,t=qt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?t(e,n):n[l];n[i++]=c}}}function Sh(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=$r(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function $r(n,e,t,r,i,o,l,c,d,f){const p=20+r,m=p+i,y=function Jm(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ee);return t}(p,m),C="function"==typeof f?f():f;return y[1]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:d,consts:C,incompleteFirstPass:!1}}function xh(n,e,t,r){const i=jh(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Uh(n).push(r,i.length-1))}function yu(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Du(n,e,t,r){let i=!1;if(es()){const o=function l_(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const l=r[o];mh(t,l.selectors,!1)&&(i||(i=[]),cs(vo(t,e),n,l.type),P(l)?(Oh(n,t),i.unshift(l)):i.push(l))}return i}(n,e,t),l=null===r?null:{"":-1};if(null!==o){i=!0,Lh(t,n.data.length,o.length);for(let p=0;p<o.length;p++){const m=o[p];m.providersResolver&&m.providersResolver(m)}let c=!1,d=!1,f=ko(n,e,o.length,null);for(let p=0;p<o.length;p++){const m=o[p];t.mergedAttrs=va(t.mergedAttrs,m.hostAttrs),Nh(n,t,e,f,m),u_(f,m,l),null!==m.contentQueries&&(t.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=128);const y=m.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),d=!0),f++}!function e_(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,l=[];let c=null,d=null;for(let f=e.directiveStart;f<r;f++){const p=i[f],m=p.inputs,y=null===o||gh(e)?null:Bh(m,o);l.push(y),c=yu(m,f,c),d=yu(p.outputs,f,d)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=16),c.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=l,e.inputs=c,e.outputs=d}(n,t)}l&&function c_(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new Ce(-301,!1);r.push(e[i],o)}}}(t,r,l)}return t.mergedAttrs=va(t.mergedAttrs,t.attrs),i}function Rh(n,e,t,r,i,o){const l=o.hostBindings;if(l){let c=n.hostBindingOpCodes;null===c&&(c=n.hostBindingOpCodes=[]);const d=~e.index;(function o_(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(c)!=d&&c.push(d),c.push(r,i,l)}}function kh(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Oh(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function u_(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;P(e)&&(t[""]=n)}}function Lh(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Nh(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=or(i.type)),l=new ss(o,P(i),null);n.blueprint[r]=l,t[r]=l,Rh(n,e,0,r,ko(n,t,i.hostVars,ee),i)}function d_(n,e,t){const r=qt(e,n),i=Sh(t),o=n[10],l=Ct(n,Ss(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=l}function mr(n,e,t,r,i,o){const l=qt(n,e);!function wu(n,e,t,r,i,o,l){if(null==o)ve(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const c=null==l?ie(o):l(o,r||"",i);ve(n)?n.setAttribute(e,i,c,t):t?e.setAttributeNS(t,i,c):e.setAttribute(i,c)}}(e[11],l,o,n.value,t,r,i)}function bu(n,e,t,r,i,o){const l=o[e];if(null!==l){const c=r.setInput;for(let d=0;d<l.length;){const f=l[d++],p=l[d++],m=l[d++];null!==c?r.setInput(t,m,f,p):t[p]=m}}}function Bh(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Hh(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Cu(n,e){const t=xt(e,n);if(nc(t)){const r=t[1];80&t[2]?Oo(r,t,r.template,t[8]):t[5]>0&&Eu(t)}}function Eu(n){for(let r=Gc(n);null!==r;r=qc(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const l=o[1];Oo(l,o,l.template,o[8])}else o[5]>0&&Eu(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=xt(t[r],n);nc(i)&&i[5]>0&&Eu(i)}}function g_(n,e){const t=xt(e,n),r=t[1];(function m_(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ms(r,t,t[8])}function Ct(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function As(n){for(;n;){n[2]|=64;const e=bs(n);if(x(n)&&!e)return n;n=e}return null}function Tu(n,e,t){const r=e[10];r.begin&&r.begin();try{Oo(n,e,n.template,t)}catch(i){throw Wh(e,i),i}finally{r.end&&r.end()}}function Vh(n){!function Iu(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Hc(t),i=r[1];Ih(i,r,i.template,t)}}(n[8])}function xs(n,e,t){lc(0),e(n,t)}const y_=(()=>Promise.resolve(null))();function jh(n){return n[7]||(n[7]=[])}function Uh(n){return n.cleanup||(n.cleanup=[])}function Wh(n,e){const t=n[9],r=t?t.get(ws,null):null;r&&r.handleError(e)}function $h(n,e,t,r,i){for(let o=0;o<t.length;){const l=t[o++],c=t[o++],d=e[l],f=n.data[l];null!==f.setInput?f.setInput(d,i,r,c):d[c]=i}}function zr(n,e,t){const r=oi(e,n);!function rh(n,e,t){ve(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Lo(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let l=0;l<e.length;l++){const c=e[l];"number"==typeof c?o=c:1==o?i=ea(i,c):2==o&&(r=ea(r,c+": "+e[++l]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const xu=new de("INJECTOR",-1);class zh{get(e,t=Io){if(t===Io){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return t}}const Pu=new de("Set Injector scope."),Ps={},w_={};let Fu;function Kh(){return void 0===Fu&&(Fu=new zh),Fu}function Gh(n,e=null,t=null,r){const i=qh(n,e,t,r);return i._resolveInjectorDefTypes(),i}function qh(n,e=null,t=null,r){return new b_(n,t,e||Kh(),r)}class b_{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Sn(t,c=>this.processProvider(c,e,t)),Sn([e],c=>this.processInjectorType(c,[],o)),this.records.set(xu,No(void 0,this));const l=this.records.get(Pu);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof e?null:xe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Io,r=le.Default){this.assertNotDestroyed();const i=xa(this),o=ri(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function h(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&Bl(e);c=d&&this.injectableDefInScope(d)?No(Ru(e),Ps):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&le.Self?Kh():this.parent).get(e,t=r&le.Optional&&t===Io?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[hi]=l[hi]||[]).unshift(xe(e)),i)throw l;return function Cf(n,e,t,r){const i=n[hi];throw e[fs]&&i.unshift(e[fs]),n.message=function Br(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let o=[];for(let l in e)if(e.hasOwnProperty(l)){let c=e[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):xe(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Df,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[hi]=null,n}(l,e,"R3InjectorError",this.source)}throw l}finally{ri(o),xa(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(xe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processInjectorType(e,t,r){if(!(e=ae(e)))return!1;let i=Le(e);const o=null==i&&e.ngModule||void 0,l=void 0===o?e:o,c=-1!==r.indexOf(l);if(void 0!==o&&(i=Le(o)),null==i)return!1;if(null!=i.imports&&!c){let p;r.push(l);try{Sn(i.imports,m=>{this.processInjectorType(m,t,r)&&(void 0===p&&(p=[]),p.push(m))})}finally{}if(void 0!==p)for(let m=0;m<p.length;m++){const{ngModule:y,providers:C}=p[m];Sn(C,M=>this.processProvider(M,y,C||Ne))}}this.injectorDefTypes.add(l);const d=or(l)||(()=>new l);this.records.set(l,No(d,Ps));const f=i.providers;if(null!=f&&!c){const p=e;Sn(f,m=>this.processProvider(m,p,f))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=Bo(e=ae(e))?e:ae(e&&e.provide);const o=function E_(n,e,t){return Qh(n)?No(void 0,n.useValue):No(Zh(n),Ps)}(e);if(Bo(e)||!0!==e.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=No(void 0,Ps,!0),l.factory=()=>Fa(l.multi),this.records.set(i,l)),i=e,l.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===Ps&&(t.value=w_,t.value=t.factory()),"object"==typeof t.value&&t.value&&function u(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ru(n){const e=Bl(n),t=null!==e?e.factory:or(n);if(null!==t)return t;if(n instanceof de)throw new Ce(204,!1);if(n instanceof Function)return function C_(n){const e=n.length;if(e>0)throw function Mn(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Ce(204,!1);const t=function _g(n){const e=n&&(n[ra]||n[Od]);if(e){const t=function Ue(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ce(204,!1)}function Zh(n,e,t){let r;if(Bo(n)){const i=ae(n);return or(i)||Ru(i)}if(Qh(n))r=()=>ae(n.useValue);else if(function T_(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Fa(n.deps||[]));else if(function I_(n){return!(!n||!n.useExisting)}(n))r=()=>_e(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function a(n){return!!n.deps}(n))return or(i)||Ru(i);r=()=>new i(...Fa(n.deps))}return r}function No(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Qh(n){return null!==n&&"object"==typeof n&&bf in n}function Bo(n){return"function"==typeof n}let g=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Gh({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return Gh({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Io,n.NULL=new zh,n.\u0275prov=Te({token:n,providedIn:"any",factory:()=>_e(xu)}),n.__NG_ELEMENT_ID__=-1,n})();function kE(n,e){is(Hc(n)[1],We())}let Yh=null;function el(){if(!Yh){const n=Pe.Symbol;if(n&&n.iterator)Yh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Yh=r)}}}return Yh}function ku(n){return!!A_(n)&&(Array.isArray(n)||!(n instanceof Map)&&el()in n)}function A_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ci(n,e,t){return n[e]=t}function nn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Lu(n,e,t,r){const i=N();return nn(i,go(),e)&&(Ee(),mr(Ze(),i,n,e,t,r)),Lu}function yr(n,e,t,r,i,o,l,c){const d=N(),f=Ee(),p=n+20,m=f.firstCreatePass?function zE(n,e,t,r,i,o,l,c,d){const f=e.consts,p=Ro(e,n,4,l||null,si(f,c));Du(e,t,p,si(f,d)),is(e,p);const m=p.tViews=$r(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}(p,f,d,e,t,r,i,o,l):f.data[p];ar(m,!1);const y=d[11].createComment("");Ka(f,d,y,m),kt(y,d),Ct(d,d[p]=Hh(y,d,y,m)),I(m)&&_u(f,d,m),null!=l&&vu(d,m,c)}function x_(n){return sr(function xg(){return Y.lFrame.contextLView}(),20+n)}function te(n,e=le.Default){const t=N();return null===t?_e(n,e):yc(We(),t,ae(n),e)}function ct(n,e,t){const r=N();return nn(r,go(),e)&&function hn(n,e,t,r,i,o,l,c){const d=qt(e,t);let p,f=e.inputs;!c&&null!=f&&(p=f[r])?($h(n,t,p,r,i),ki(e)&&function n_(n,e){const t=xt(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function t_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,e.value||"",r):i,ve(o)?o.setProperty(d,r,i):ls(r)||(d.setProperty?d.setProperty(r,i):d[r]=i))}(Ee(),Ze(),r,n,e,r[11],t,!1),ct}function O_(n,e,t,r,i){const l=i?"class":"style";$h(n,t,e.inputs[l],l,r)}function nt(n,e,t,r){const i=N(),o=Ee(),l=20+n,c=i[11],d=i[l]=Qc(c,e,function En(){return Y.lFrame.currentNamespace}()),f=o.firstCreatePass?function p0(n,e,t,r,i,o,l){const c=e.consts,f=Ro(e,n,2,i,si(c,o));return Du(e,t,f,si(c,l)),null!==f.attrs&&Lo(f,f.attrs,!1),null!==f.mergedAttrs&&Lo(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(l,o,i,0,e,t,r):o.data[l];ar(f,!0);const p=f.mergedAttrs;null!==p&&as(c,d,p);const m=f.classes;null!==m&&fn(c,d,m);const y=f.styles;return null!==y&&hh(c,d,y),64!=(64&f.flags)&&Ka(o,i,d,f),0===function Yd(){return Y.lFrame.elementDepthCount}()&&kt(d,i),function _(){Y.lFrame.elementDepthCount++}(),I(f)&&(_u(o,i,f),function Th(n,e,t){if($l(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const l=n.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}}(o,f,i)),null!==r&&vu(i,f),nt}function Ye(){let n=We();ic()?function oc(){Y.lFrame.isParent=!1}():(n=n.parent,ar(n,!1));const e=n;!function po(){Y.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&(is(t,n),$l(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function ur(n){return 0!=(16&n.flags)}(e)&&O_(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hc(n){return 0!=(32&n.flags)}(e)&&O_(t,e,N(),e.stylesWithoutHost,!1),Ye}function Dr(n,e,t,r){return nt(n,e,t,r),Ye(),Dr}function Nu(){return N()}function B_(n){return!!n&&"function"==typeof n.then}function $D(n){return!!n&&"function"==typeof n.subscribe}const m0=$D;function Gn(n,e,t,r){const i=N(),o=Ee(),l=We();return function KD(n,e,t,r,i,o,l,c){const d=I(r),p=n.firstCreatePass&&Uh(n),m=e[8],y=jh(e);let C=!0;if(3&r.type||c){const L=qt(r,e),H=c?c(L):L,F=y.length,z=c?fe=>c(Je(fe[r.index])):r.index;if(ve(t)){let fe=null;if(!c&&d&&(fe=function _0(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===t&&i[o+1]===r){const c=e[7],d=i[o+2];return c.length>d?c[d]:null}"string"==typeof l&&(o+=2)}return null}(n,e,i,r.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=o,fe.__ngLastListenerFn__=o,C=!1;else{o=H_(r,e,m,o,!1);const Ae=t.listen(H,i,o);y.push(o,Ae),p&&p.push(i,z,F,F+1)}}else o=H_(r,e,m,o,!0),H.addEventListener(i,o,l),y.push(o),p&&p.push(i,z,F,l)}else o=H_(r,e,m,o,!1);const M=r.outputs;let k;if(C&&null!==M&&(k=M[i])){const L=k.length;if(L)for(let H=0;H<L;H+=2){const Zn=e[k[H]][k[H+1]].subscribe(o),Hs=y.length;y.push(o,Zn),p&&p.push(i,r.index,Hs,-(Hs+1))}}}(o,i,i[11],l,n,e,!!t,r),Gn}function GD(n,e,t,r){try{return!1!==t(r)}catch(i){return Wh(n,i),!1}}function H_(n,e,t,r,i){return function o(l){if(l===Function)return r;const c=2&n.flags?xt(n.index,e):e;0==(32&e[2])&&As(c);let d=GD(e,0,r,l),f=o.__ngNextListenerFn__;for(;f;)d=GD(e,0,f,l)&&d,f=f.__ngNextListenerFn__;return i&&!1===d&&(l.preventDefault(),l.returnValue=!1),d}}function st(n=1){return function dc(n){return(Y.lFrame.contextLView=function ns(n,e){for(;n>0;)e=e[15],n--;return e}(n,Y.lFrame.contextLView))[8]}(n)}function rw(n,e,t,r,i){const o=n[t+1],l=null===e;let c=r?zn(o):jr(o),d=!1;for(;0!==c&&(!1===d||l);){const p=n[c+1];C0(n[c],e)&&(d=!0,n[c+1]=r?Ts(p):ou(p)),c=r?zn(p):jr(p)}d&&(n[t+1]=r?ou(o):Ts(o))}function C0(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Eo(n,e)>=0}function zi(n,e,t){return Gr(n,e,t,!1),zi}function ep(n,e){return Gr(n,e,null,!0),ep}function Gr(n,e,t,r){const i=N(),o=Ee(),l=function Or(n){const e=Y.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function dw(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[gt()],l=function uw(n,e){return e>=n.expandoStartIndex}(n,t);(function gw(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!l&&(e=!1),e=function F0(n,e,t,r){const i=function ac(n){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Bu(t=j_(null,n,e,t,r),e.attrs,r),o=null);else{const l=e.directiveStylingLast;if(-1===l||n[l]!==i)if(t=j_(i,n,e,t,r),null===o){let d=function R0(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==jr(r))return n[zn(r)]}(n,e,r);void 0!==d&&Array.isArray(d)&&(d=j_(null,n,e,d[1],r),d=Bu(d,e.attrs,r),function k0(n,e,t,r){n[zn(t?e.classBindings:e.styleBindings)]=r}(n,e,r,d))}else o=function O0(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Bu(r,n[o].hostAttrs,t);return Bu(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function w0(n,e,t,r,i,o){let l=o?e.classBindings:e.styleBindings,c=zn(l),d=jr(l);n[r]=t;let p,f=!1;if(Array.isArray(t)){const m=t;p=m[1],(null===p||Eo(m,p)>0)&&(f=!0)}else p=t;if(i)if(0!==d){const y=zn(n[c+1]);n[r+1]=Za(y,c),0!==y&&(n[y+1]=Qa(n[y+1],r)),n[c+1]=function Gm(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=Za(c,0),0!==c&&(n[c+1]=Qa(n[c+1],r)),c=r;else n[r+1]=Za(d,0),0===c?c=r:n[d+1]=Qa(n[d+1],r),d=r;f&&(n[r+1]=ou(n[r+1])),rw(n,p,r,!0),rw(n,p,r,!1),function b0(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Eo(o,e)>=0&&(t[r+1]=Ts(t[r+1]))}(e,p,n,r,o),l=Za(c,d),o?e.classBindings=l:e.styleBindings=l}(i,o,e,t,l,r)}}(o,n,l,r),e!==ee&&nn(i,l,e)&&function hw(n,e,t,r,i,o,l,c){if(!(3&e.type))return;const d=n.data,f=d[c+1];tp(function Po(n){return 1==(1&n)}(f)?pw(d,e,t,i,jr(f),l):void 0)||(tp(o)||function vh(n){return 2==(2&n)}(f)&&(o=pw(d,null,t,i,c,l)),function jm(n,e,t,r,i){const o=ve(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:dn.DashCase;if(null==i)o?n.removeStyle(t,r,l):t.style.removeProperty(r);else{const c="string"==typeof i&&i.endsWith("!important");c&&(i=i.slice(0,-10),l|=dn.Important),o?n.setStyle(t,r,i,l):t.style.setProperty(r,i,c?"important":"")}}}(r,l,oi(gt(),t),i,o))}(o,o.data[gt()],i,i[11],n,i[l+1]=function B0(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=xe(mi(n)))),n}(e,t),r,l)}function j_(n,e,t,r,i){let o=null;const l=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<l&&(o=e[c],r=Bu(r,o.hostAttrs,i),o!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function Bu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yt(n,l,!!t||e[++o]))}return void 0===n?null:n}function pw(n,e,t,r,i,o){const l=null===e;let c;for(;i>0;){const d=n[i],f=Array.isArray(d),p=f?d[1]:d,m=null===p;let y=t[i+1];y===ee&&(y=m?Ne:void 0);let C=m?Sa(y,r):p===r?y:void 0;if(f&&!tp(C)&&(C=Sa(d,r)),tp(C)&&(c=C,l))return c;const M=n[i+1];i=l?zn(M):jr(M)}if(null!==e){let d=o?e.residualClasses:e.residualStyles;null!=d&&(c=Sa(d,r))}return c}function tp(n){return void 0!==n}function Ho(n,e=""){const t=N(),r=Ee(),i=n+20,o=r.firstCreatePass?Ro(r,i,1,e,null):r.data[i],l=t[i]=function Zc(n,e){return ve(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Ka(r,t,l,o),ar(o,!1)}function Hu(n,e,t){const r=N(),i=function nl(n,e,t,r){return nn(n,go(),t)?e+ie(t)+r:ee}(r,n,e,t);return i!==ee&&zr(r,gt(),i),Hu}const np="en-US";let Bw=np;function $_(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)$_(n[o],e,t,r,i);else{const o=Ee(),l=N();let c=Bo(n)?n:ae(n.provide),d=Zh(n);const f=We(),p=1048575&f.providerIndexes,m=f.directiveStart,y=f.providerIndexes>>20;if(Bo(n)||!n.multi){const C=new ss(d,i,te),M=K_(c,e,i?p:p+y,m);-1===M?(cs(vo(f,l),o,c),z_(o,n,e.length),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(C),l.push(C)):(t[M]=C,l[M]=C)}else{const C=K_(c,e,p+y,m),M=K_(c,e,p,p+y),k=C>=0&&t[C],L=M>=0&&t[M];if(i&&!L||!i&&!k){cs(vo(f,l),o,c);const H=function rT(n,e,t,r,i){const o=new ss(n,t,te);return o.multi=[],o.index=e,o.componentProviders=0,lb(o,i,r&&!t),o}(i?nT:tT,t.length,i,r,d);!i&&L&&(t[M].providerFactory=H),z_(o,n,e.length,0),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(H),l.push(H)}else z_(o,n,C>-1?C:M,lb(t[i?M:C],d,!i&&r));!i&&r&&L&&t[M].componentProviders++}}}function z_(n,e,t,r){const i=Bo(e),o=function s(n){return!!n.useClass}(e);if(i||o){const d=(o?ae(e.useClass):e).prototype.ngOnDestroy;if(d){const f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=f.indexOf(t);-1===p?f.push(t,[r,d]):f[p+1].push(r,d)}else f.push(t,d)}}}function lb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function K_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tT(n,e,t,r){return G_(this.multi,[])}function nT(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=yo(t,t[1],this.providerFactory.index,r);o=c.slice(0,l),G_(i,o);for(let d=l;d<c.length;d++)o.push(c[d])}else o=[],G_(i,o);return o}function G_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function cb(n,e=[]){return t=>{t.providersResolver=(r,i)=>function eT(n,e,t){const r=Ee();if(r.firstCreatePass){const i=P(n);$_(t,r.data,r.blueprint,i,!0),$_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ub{}class sT{resolveComponentFactory(e){throw function oT(n){const e=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ap=(()=>{class n{}return n.NULL=new sT,n})();function aT(){return pl(We(),N())}function pl(n,e){return new Vo(qt(n,e))}let Vo=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=aT,n})();function lT(n){return n instanceof Vo?n.nativeElement:n}class fb{}let hb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function uT(){const n=N(),t=xt(We().index,n);return function cT(n){return n[11]}(ir(t)?t:n)}(),n})(),dT=(()=>{class n{}return n.\u0275prov=Te({token:n,providedIn:"root",factory:()=>null}),n})();class q_{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const fT=new q_("13.3.3"),Z_={};function lp(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Je(o)),Nn(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1].firstChild;null!==f&&lp(d[1],d,f,r)}const l=t.type;if(8&l)lp(n,e,t.child,r);else if(32&l){const c=$c(t,e);let d;for(;d=c();)r.push(d)}else if(16&l){const c=uh(e,t);if(Array.isArray(c))r.push(...c);else{const d=bs(e[16]);lp(d[1],d,c,r,!0)}}t=i?t.projectionNext:t.next}return r}class $u{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Nn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(xo(e,r),Ta(t,r))}this._attachedToViewContainer=!1}oh(this._lView[1],this._lView)}onDestroy(e){xh(this._lView[1],this._lView,null,e)}markForCheck(){As(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Su(n,e,t){ha(!0);try{Tu(n,e,t)}finally{ha(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function km(n,e){Is(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ce(902,"");this._appRef=e}}class hT extends $u{constructor(e){super(e),this._view=e}detectChanges(){Vh(this._view)}checkNoChanges(){!function v_(n){ha(!0);try{Vh(n)}finally{ha(!1)}}(this._view)}get context(){return null}}class pb extends ap{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Dt(e);return new Q_(t,this.ngModule)}}function gb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Q_ extends ub{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Vr(n){return n.map(Km).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return gb(this.componentDef.inputs)}get outputs(){return gb(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function gT(n,e){return{get:(t,r,i)=>{const o=n.get(t,Z_,i);return o!==Z_||r===Z_?o:e.get(t,r,i)}}}(e,i.injector):e,l=o.get(fb,qd),c=o.get(dT,null),d=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Ah(n,e,t){if(ve(n))return n.selectRootElement(e,t===On.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(d,r,this.componentDef.encapsulation):Qc(l.createRenderer(null,this.componentDef),f,function pT(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),m=this.componentDef.onPush?576:528,y=function wD(n,e){return{components:[],scheduler:n||Tm,clean:y_,playerHandler:e||null,flags:0}}(),C=$r(0,null,null,1,0,null,null,null,null,null),M=Ss(null,C,y,m,null,null,l,d,c,o);let k,L;pa(M);try{const H=function yD(n,e,t,r,i,o){const l=t[1];t[20]=n;const d=Ro(l,20,2,"#host",null),f=d.mergedAttrs=e.hostAttrs;null!==f&&(Lo(d,f,!0),null!==n&&(as(i,n,f),null!==d.classes&&fn(i,n,d.classes),null!==d.styles&&hh(i,n,d.styles)));const p=r.createRenderer(n,e),m=Ss(t,Sh(e),null,e.onPush?64:16,t[20],d,r,p,o||null,null);return l.firstCreatePass&&(cs(vo(d,t),l,e.type),Oh(l,d),Lh(d,t.length,1)),Ct(t,m),t[20]=m}(p,this.componentDef,M,l,d);if(p)if(r)as(d,p,["ng-version",fT.full]);else{const{attrs:F,classes:z}=function _h(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!$n(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);F&&as(d,p,F),z&&z.length>0&&fn(d,p,z.join(" "))}if(L=Ni(C,20),void 0!==t){const F=L.projection=[];for(let z=0;z<this.ngContentSelectors.length;z++){const fe=t[z];F.push(null!=fe?Array.from(fe):null)}}k=function DD(n,e,t,r,i){const o=t[1],l=function i_(n,e,t){const r=We();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Nh(n,r,e,ko(n,e,1,null),t));const i=yo(e,n,r.directiveStart,r);kt(i,e);const o=qt(r,e);return o&&kt(o,e),i}(o,t,e);if(r.components.push(l),n[8]=l,i&&i.forEach(d=>d(l,e)),e.contentQueries){const d=We();e.contentQueries(1,l,d.directiveStart)}const c=We();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(li(c.index),Rh(t[1],c,0,c.directiveStart,c.directiveEnd,e),kh(e,l)),l}(H,this.componentDef,M,y,[kE]),Ms(C,M,null)}finally{ga()}return new _T(this.componentType,k,pl(L,M),M,L)}}class _T extends class iT{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new hT(i),this.componentType=e}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class gl{}const ml=new Map;class vb extends gl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pb(this);const r=an(e);this._bootstrapComponents=gr(r.bootstrap),this._r3Injector=qh(e,t,[{provide:gl,useValue:this},{provide:ap,useValue:this.componentFactoryResolver}],xe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=g.THROW_IF_NOT_FOUND,r=le.Default){return e===g||e===gl||e===xu?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Y_ extends class yT{}{constructor(e){super(),this.moduleType=e,null!==an(e)&&function DT(n){const e=new Set;!function t(r){const i=an(r,!0),o=i.id;null!==o&&(function mb(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${xe(e)} vs ${xe(e.name)}`)}(o,ml.get(o),r),ml.set(o,r));const l=gr(i.imports);for(const c of l)e.has(c)||(e.add(c),t(c))}(n)}(e)}create(e){return new vb(this.moduleType,e)}}function Db(n,e,t,r,i,o){const l=e+t;return nn(n,l,i)?Ci(n,l+1,o?r.call(o,i):r(i)):function zu(n,e){const t=n[e];return t===ee?void 0:t}(n,l+1)}function X_(n,e){const t=Ee();let r;const i=n+20;t.firstCreatePass?(r=function xT(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=or(r.type)),l=ri(te);try{const c=Da(!1),d=o();return Da(c),function KE(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,N(),i,d),d}finally{ri(l)}}function J_(n,e,t){const r=n+20,i=N(),o=sr(i,r);return function Ku(n,e){return n[1].data[e].pure}(i,r)?Db(i,jt(),e,o.transform,t,o):o.transform(t)}function ev(n){return e=>{setTimeout(n,void 0,e)}}const It=class OT extends ze{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,l;let c=e,d=t||(()=>null),f=r;if(e&&"object"==typeof e){const m=e;c=null===(i=m.next)||void 0===i?void 0:i.bind(m),d=null===(o=m.error)||void 0===o?void 0:o.bind(m),f=null===(l=m.complete)||void 0===l?void 0:l.bind(m)}this.__isAsync&&(d=ev(d),c&&(c=ev(c)),f&&(f=ev(f)));const p=super.subscribe({next:c,error:d,complete:f});return e instanceof vt&&e.add(p),p}};function LT(){return this._results[el()]()}class tv{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=el(),r=tv.prototype;r[t]||(r[t]=LT)}get changes(){return this._changes||(this._changes=new It)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Qt(e);(this._changesDetected=!function _f(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=HT,n})();const NT=Ki,BT=class extends NT{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Ss(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),Ms(t,r,e),new $u(r)}};function HT(){return cp(We(),N())}function cp(n,e){return 4&n.type?new BT(e,n,pl(n,e)):null}let Zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=VT,n})();function VT(){return Sb(We(),N())}const jT=Zr,Ib=class extends jT{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const e=wa(this._hostTNode,this._hostLView);if(af(e)){const t=dr(e,this._hostLView),r=ui(e);return new Do(t[1].data[r+8],t)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Tb(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const l=e&&!function Co(n){return"function"==typeof n}(e);let c;if(l)c=t;else{const m=t||{};c=m.index,r=m.injector,i=m.projectableNodes,o=m.ngModuleRef}const d=l?e:new Q_(Dt(e)),f=r||this.parentInjector;if(!o&&null==d.ngModule){const y=(l?f:this.parentInjector).get(gl,null);y&&(o=y)}const p=d.create(f,i,void 0,o);return this.insert(p.hostView,c),p}insert(e,t){const r=e._lView,i=r[1];if(function Ag(n){return Nn(n[3])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const m=r[3],y=new Ib(m,m[6],m[3]);y.detach(y.indexOf(e))}}const o=this._adjustIndex(t),l=this._lContainer;!function Lm(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],Nr(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const l=e[17];null!==l&&t!==l&&function Nm(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(l,e);const c=e[19];null!==c&&c.insertView(n),e[2]|=128}(i,r,l,o);const c=nu(o,l),d=r[11],f=$a(d,l[7]);return null!==f&&function Rm(n,e,t,r,i,o){r[0]=i,r[6]=e,Is(n,r,t,1,i,o)}(i,l[6],d,r,f,c),e.attachToViewContainerRef(),Nr(nv(l),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Tb(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=xo(this._lContainer,t);r&&(Ta(nv(this._lContainer),t),oh(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=xo(this._lContainer,t);return r&&null!=Ta(nv(this._lContainer),t)?new $u(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Tb(n){return n[8]}function nv(n){return n[8]||(n[8]=[])}function Sb(n,e){let t;const r=e[n.index];if(Nn(r))t=r;else{let i;if(8&n.type)i=Je(r);else{const o=e[11];i=o.createComment("");const l=qt(n,e);vi(o,$a(o,l),i,function za(n,e){return ve(n)?n.nextSibling(e):e.nextSibling}(o,l),!1)}e[n.index]=t=Hh(r,e,i,n),Ct(e,t)}return new Ib(t,n,e)}class rv{constructor(e){this.queryList=e,this.matches=null}clone(){return new rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class iv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const l=t.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new iv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Fb(e,t).matches&&this.queries[t].setDirty()}}class Mb{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ov{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new ov(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,$T(t,o)),this.matchTNodeWithReadOption(e,t,Ea(t,e,o,!1,!1))}else r===Ki?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ea(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vo||i===Zr||i===Ki&&4&t.type)this.addMatch(t.index,-2);else{const o=Ea(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $T(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function KT(n,e,t,r){return-1===t?function zT(n,e){return 11&n.type?pl(n,e):4&n.type?cp(n,e):null}(e,n):-2===t?function GT(n,e,t){return t===Vo?pl(e,n):t===Ki?cp(e,n):t===Zr?Sb(e,n):void 0}(n,e,r):yo(n,n[1],t,e)}function Ab(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,l=t.matches,c=[];for(let d=0;d<l.length;d+=2){const f=l[d];c.push(f<0?null:KT(e,o[f],l[d+1],t.metadata.read))}i.matches=c}return i.matches}function av(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const l=Ab(n,e,i,t);for(let c=0;c<o.length;c+=2){const d=o[c];if(d>0)r.push(l[c/2]);else{const f=o[c+1],p=e[-d];for(let m=10;m<p.length;m++){const y=p[m];y[17]===y[3]&&av(y[1],y,f,r)}if(null!==p[9]){const m=p[9];for(let y=0;y<m.length;y++){const C=m[y];av(C[1],C,f,r)}}}}}return r}function ks(n){const e=N(),t=Ee(),r=Cn();lc(r+1);const i=Fb(t,r);if(n.dirty&&Bi(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?av(t,e,r,[]):Ab(t,e,i,r);n.reset(o,lT),n.notifyOnChanges()}return!0}return!1}function up(n,e,t){const r=Ee();r.firstCreatePass&&(Pb(r,new Mb(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),xb(r,N(),e)}function dp(n,e,t,r){const i=Ee();if(i.firstCreatePass){const o=We();Pb(i,new Mb(e,t,r),o.index),function ZT(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}xb(i,N(),t)}function Os(){return function qT(n,e){return n[19].queries[e].queryList}(N(),Cn())}function xb(n,e,t){const r=new tv(4==(4&t));xh(n,e,r,r.destroy),null===e[19]&&(e[19]=new iv),e[19].queries.push(new rv(r))}function Pb(n,e,t){null===n.queries&&(n.queries=new ov),n.queries.track(new sv(e,t))}function Fb(n,e){return n.queries.getByIndex(e)}function pp(...n){}const Zb=new de("Application Initializer");let hv=(()=>{class n{constructor(t){this.appInits=t,this.resolve=pp,this.reject=pp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(B_(o))t.push(o);else if(m0(o)){const l=new Promise((c,d)=>{o.subscribe({complete:c,error:d})});t.push(l)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(_e(Zb,8))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qu=new de("AppId",{providedIn:"root",factory:function Qb(){return`${pv()}${pv()}${pv()}`}});function pv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yb=new de("Platform Initializer"),gv=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hS=new de("appBootstrapListener"),jo=new de("LocaleId",{providedIn:"root",factory:()=>hs(jo,le.Optional|le.SkipSelf)||function pS(){return"undefined"!=typeof $localize&&$localize.locale||np}()}),vS=(()=>Promise.resolve(0))();function mv(n){"undefined"==typeof Zone?vS.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yS(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bS(n){const e=()=>{!function wS(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,_v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,l,c)=>{try{return Xb(n),t.invokeTask(i,o,l,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Jb(n)}},onInvoke:(t,r,i,o,l,c,d)=>{try{return Xb(n),t.invoke(i,o,l,c,d)}finally{n.shouldCoalesceRunChangeDetection&&e(),Jb(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,vv(n),_v(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,e,DS,pp,pp);try{return o.runTask(l,t,r)}finally{o.cancelTask(l)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const DS={};function _v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Xb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jb(n){n._nesting--,_v(n)}class CS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let yv=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(_e(Lt))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})(),ES=(()=>{class n{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Dv.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class IS{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Qr,Dv=new IS;const eC=new de("AllowMultipleToken");function tC(n,e,t=[]){const r=`Platform: ${e}`,i=new de(r);return(o=[])=>{let l=nC();if(!l||l.injector.get(eC,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const c=t.concat(o).concat({provide:i,useValue:!0},{provide:Pu,useValue:"platform"});!function AS(n){if(Qr&&!Qr.destroyed&&!Qr.injector.get(eC,!1))throw new Ce(400,"");Qr=n.get(PS);const e=n.get(Yb,null);e&&e.forEach(t=>t())}(g.create({providers:c,name:r}))}return function xS(n){const e=nC();if(!e)throw new Ce(401,"");return e}()}}function nC(){return Qr&&!Qr.destroyed?Qr:null}let PS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const c=function FS(n,e){let t;return t="noop"===n?new CS:("zone.js"===n?void 0:n)||new Lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),d=[{provide:Lt,useValue:c}];return c.run(()=>{const f=g.create({providers:d,parent:this.injector,name:t.moduleType.name}),p=t.create(f),m=p.injector.get(ws,null);if(!m)throw new Ce(402,"");return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:C=>{m.handleError(C)}});p.onDestroy(()=>{wv(this._modules,p),y.unsubscribe()})}),function RS(n,e,t){try{const r=t();return B_(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(m,c,()=>{const y=p.injector.get(hv);return y.runInitializers(),y.donePromise.then(()=>(function cI(n){Kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Bw=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(jo,np)||np),this._moduleDoBootstrap(p),p))})})}bootstrapModule(t,r=[]){const i=rC({},r);return function SS(n,e,t){const r=new Y_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(iC);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ce(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(_e(g))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function rC(n,e){return Array.isArray(e)?e.reduce(rC,n):Object.assign(Object.assign({},n),e)}let iC=(()=>{class n{constructor(t,r,i,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new qe(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),c=new qe(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),p.unsubscribe()}});this.isStable=Xs(l,c.pipe(function Sd(n={}){const{connector:e=(()=>new ze),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l=null,c=null,d=null,f=0,p=!1,m=!1;const y=()=>{null==c||c.unsubscribe(),c=null},C=()=>{y(),l=d=null,p=m=!1},M=()=>{const k=l;C(),null==k||k.unsubscribe()};return St((k,L)=>{f++,!m&&!p&&y();const H=d=null!=d?d:e();L.add(()=>{f--,0===f&&!m&&!p&&(c=Ll(M,i))}),H.subscribe(L),l||(l=new ti({next:F=>H.next(F),error:F=>{m=!0,y(),c=Ll(C,t,F),H.error(F)},complete:()=>{p=!0,y(),c=Ll(C,r),H.complete()}}),Ol(k).subscribe(l))})(o)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Ce(405,"");let i;i=t instanceof ub?t:this._injector.get(ap).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function MS(n){return n.isBoundToModule}(i)?void 0:this._injector.get(gl),c=i.create(g.NULL,[],r||i.selector,o),d=c.location.nativeElement,f=c.injector.get(yv,null),p=f&&c.injector.get(ES);return f&&p&&p.registerApplication(d,f),c.onDestroy(()=>{this.detachView(c.hostView),wv(this.components,c),p&&p.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ce(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;wv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hS,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(_e(Lt),_e(g),_e(ws),_e(hv))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let sC=!0,cC=(()=>{class n{}return n.__NG_ELEMENT_ID__=LS,n})();function LS(n){return function NS(n,e,t){if(ki(n)&&!t){const r=xt(n.index,e);return new $u(r,r)}return 47&n.type?new $u(e[16],e):null}(We(),N(),16==(16&n))}class fC{constructor(){}supports(e){return ku(e)}create(e){return new WS(e)}}const US=(n,e)=>e;class WS{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||US}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const l=!r||t&&t.currentIndex<pC(r,i,o)?t:r,c=pC(l,i,o),d=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(t=t._next,null==l.previousIndex)i++;else{o||(o=[]);const f=c-i,p=d-i;if(f!=p){for(let y=0;y<f;y++){const C=y<o.length?o[y]:o[y]=0,M=C+y;p<=M&&M<f&&(o[y]=C+1)}o[l.previousIndex]=p-f}}c!==d&&e(l,c,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ku(e))throw new Ce(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,l,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],l=this._trackByFn(c,o),null!==t&&Object.is(t.trackById,l)?(r&&(t=this._verifyReinsertion(t,o,l,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,l,c),r=!0),t=t._next}else i=0,function $E(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[el()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{l=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,l)?(r&&(t=this._verifyReinsertion(t,c,l,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,l,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new $S(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $S{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zS{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class hC{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new zS,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pC(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class gC{constructor(){}supports(e){return e instanceof Map||A_(e)}create(){return new KS}}class KS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||A_(e)))throw new Ce(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new GS(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class GS{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mC(){return new _p([new fC])}let _p=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mC()),deps:[[n,new gs,new ps]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ce(901,"")}}return n.\u0275prov=Te({token:n,providedIn:"root",factory:mC}),n})();function _C(){return new Zu([new gC])}let Zu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_C()),deps:[[n,new gs,new ps]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new Ce(901,"")}}return n.\u0275prov=Te({token:n,providedIn:"root",factory:_C}),n})();const QS=tC(null,"core",[]);let YS=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(_e(iC))},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({}),n})(),vp=null;function Qu(){return vp}const mn=new de("DocumentToken");let MC=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ku(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${xe(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(te(_p),te(Zu),te(Vo),te(hb))},n.\u0275dir=sn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class UM{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let AC=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new UM(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),xC(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(te(Zr),te(Ki),te(_p))},n.\u0275dir=sn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xC(n,e){n.context.$implicit=e.item}let Ov=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new WM,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(te(Zr),te(Ki))},n.\u0275dir=sn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class WM{constructor(){this.$implicit=null,this.ngIf=null}}function PC(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${xe(e)}'.`)}let RC=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(te(Vo),te(Zu),te(hb))},n.\u0275dir=sn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class qM{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ZM{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const QM=new ZM,YM=new qM;let kC=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(B_(t))return QM;if($D(t))return YM;throw function Xr(n,e){return new Ce(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(te(cC,16))},n.\u0275pipe=Vt({name:"async",type:n,pure:!1}),n})(),LC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({}),n})();const NC="browser";class Vv extends class DA extends class eM{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function JS(n){vp||(vp=n)}(new Vv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wA(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}();return null==t?null:function bA(n){Mp=Mp||document.createElement("a"),Mp.setAttribute("href",n);const e=Mp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function VM(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Mp,Ju=null;const HC=new de("TRANSITION_ID"),EA=[{provide:Zb,useFactory:function CA(n,e,t){return()=>{t.get(hv).donePromise.then(()=>{const r=Qu(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[HC,mn,g],multi:!0}];class jv{static init(){!function TS(n){Dv=n}(new jv)}addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let o=i.length,l=!1;const c=function(d){l=l||d,o--,0==o&&r(l)};i.forEach(function(d){d.whenStable(c)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Qu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let IA=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();const Ap=new de("EventManagerPlugins");let xp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_e(Ap),_e(Lt))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();class VC{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qu().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let jC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})(),ed=(()=>{class n extends jC{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(UC),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(UC))}}return n.\u0275fac=function(t){return new(t||n)(_e(mn))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();function UC(n){Qu().remove(n)}const Uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wv=/%COMP%/g;function Pp(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pp(n,i,t):(i=i.replace(Wv,n),t.push(i))}return t}function zC(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $v=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case On.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new PA(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case On.ShadowDom:return new FA(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_e(xp),_e(ed),_e(qu))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();class zv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Uv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Uv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Uv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(t,r,i&dn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zC(r)):this.eventManager.addEventListener(e,t,zC(r))}}class PA extends zv{constructor(e,t,r,i){super(e),this.component=r;const o=Pp(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function MA(n){return"_ngcontent-%COMP%".replace(Wv,n)}(i+"-"+r.id),this.hostAttr=function AA(n){return"_nghost-%COMP%".replace(Wv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class FA extends zv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Pp(i.id,i.styles,[]);for(let l=0;l<o.length;l++){const c=document.createElement("style");c.textContent=o[l],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let RA=(()=>{class n extends VC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_e(mn))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();const GC=["alt","control","meta","shift"],OA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},LA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let NA=(()=>{class n extends VC{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qu().onAndCancel(t,o.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="";if(GC.forEach(d=>{const f=r.indexOf(d);f>-1&&(r.splice(f,1),l+=d+".")}),l+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=l,c}static getEventFullKey(t){let r="",i=function BA(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qC.hasOwnProperty(e)&&(e=qC[e]))}return OA[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GC.forEach(o=>{o!=i&&LA[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(_e(mn))},n.\u0275prov=Te({token:n,factory:n.\u0275fac}),n})();const UA=tC(QS,"browser",[{provide:gv,useValue:NC},{provide:Yb,useValue:function HA(){Vv.makeCurrent(),jv.init()},multi:!0},{provide:mn,useFactory:function jA(){return function Tg(n){ua=n}(document),document},deps:[]}]),WA=[{provide:Pu,useValue:"root"},{provide:ws,useFactory:function VA(){return new ws},deps:[]},{provide:Ap,useClass:RA,multi:!0,deps:[mn,Lt,gv]},{provide:Ap,useClass:NA,multi:!0,deps:[mn]},{provide:$v,useClass:$v,deps:[xp,ed,qu]},{provide:fb,useExisting:$v},{provide:jC,useExisting:ed},{provide:ed,useClass:ed,deps:[mn]},{provide:yv,useClass:yv,deps:[Lt]},{provide:xp,useClass:xp,deps:[Ap,Lt]},{provide:class yA{},useClass:IA,deps:[]}];let Gv,$A=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:qu,useValue:t.appId},{provide:HC,useExisting:qu},EA]}}}return n.\u0275fac=function(t){return new(t||n)(_e(n,12))},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({providers:WA,imports:[LC,YS]}),n})();"undefined"!=typeof window&&window;try{Gv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Gv=!1}let td,qv,t1=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function _A(n){return n===NC}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(_e(gv))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nd(n){return function n1(){if(null==td&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>td=!0}))}finally{td=td||!1}return td}()?n:!!n.capture}function XC(n){if(function r1(){if(null==qv){const n="undefined"!=typeof document?document.head:null;qv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qv}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Rp(n){return n.composedPath?n.composedPath()[0]:n.target}function JC(n){return null!=n&&"false"!=`${n}`}function qn(n){return n instanceof Vo?n.nativeElement:n}class b1 extends vt{constructor(e,t){super()}schedule(e,t=0){return this}}const kp={setInterval(n,e,...t){const{delegate:r}=kp;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=kp;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Zv extends b1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return kp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;kp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yi(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const rE={now:()=>(rE.delegate||Date).now(),delegate:void 0};class rd{constructor(e,t=rd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}rd.now=rE.now;class Qv extends rd{constructor(e,t=rd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Yv=new Qv(Zv),C1=Yv;function iE(n=0,e,t=C1){let r=-1;return null!=e&&(Ed(e)?t=e:r=e),new qe(i=>{let o=function E1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const id={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=id;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new vt(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=id;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=id;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},oE=new class S1 extends Qv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class T1 extends Zv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=id.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(id.cancelAnimationFrame(t),e._scheduled=void 0)}});function Xv(n){return St((e,t)=>{Ar(n).subscribe(zt(t,()=>t.complete(),js)),!t.closed&&e.subscribe(t)})}function sE(...n){return function M1(){return Cd(1)}()(Ol(n,kl(n)))}function aE(...n){const e=kl(n);return St((t,r)=>{(e?sE(n,t,e):sE(n,t)).subscribe(r)})}let Jv,P1=1;const Op={};function lE(n){return n in Op&&(delete Op[n],!0)}const F1={setImmediate(n){const e=P1++;return Op[e]=!0,Jv||(Jv=Promise.resolve()),Jv.then(()=>lE(e)&&n()),e},clearImmediate(n){lE(n)}},{setImmediate:R1,clearImmediate:k1}=F1,Lp={setImmediate(...n){const{delegate:e}=Lp;return((null==e?void 0:e.setImmediate)||R1)(...n)},clearImmediate(n){const{delegate:e}=Lp;return((null==e?void 0:e.clearImmediate)||k1)(n)},delegate:void 0};new class L1 extends Qv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class O1 extends Zv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Lp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Lp.clearImmediate(t),e._scheduled=void 0)}});let j1=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ze,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function H1(n,e=Yv){return function B1(n){return St((e,t)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const f=i;i=null,t.next(f)}l&&t.complete()},d=()=>{o=null,l&&t.complete()};e.subscribe(zt(t,f=>{r=!0,i=f,o||Ar(n(f)).subscribe(o=zt(t,c,d))},()=>{l=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>iE(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(_e(t1),_e(Lt),_e(mn,8))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({}),n})();const W1=new de("cdk-dir-doc",{providedIn:"root",factory:function $1(){return hs(mn)}}),z1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let G1=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new It,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function K1(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?z1.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(_e(W1,8))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ey(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function yl(n,e){const t=e?"":"none";ey(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function cE(n,e,t){ey(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Np(n,e){return e&&"none"!=e?n+" "+e:n}function uE(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function ty(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function ny(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function ry(n,e,t){const{top:r,bottom:i,left:o,right:l}=n;return t>=r&&t<=i&&e>=o&&e<=l}function od(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function dE(n,e,t,r){const{top:i,right:o,bottom:l,left:c,width:d,height:f}=n,p=d*e,m=f*e;return r>i-m&&r<l+m&&t>c-p&&t<o+p}class fE{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ny(t)})})}handleScroll(e){const t=Rp(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let o,l;if(t===this._document){const f=this.getViewportScrollPosition();o=f.top,l=f.left}else o=t.scrollTop,l=t.scrollLeft;const c=i.top-o,d=i.left-l;return this.positions.forEach((f,p)=>{f.clientRect&&t!==p&&t.contains(p)&&od(f.clientRect,c,d)}),i.top=o,i.left=l,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function hE(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?mE(n,e):("input"===r||"select"===r||"textarea"===r)&&gE(n,e),pE("canvas",n,e,mE),pE("input, textarea, select",n,e,gE),e}function pE(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const o=t.querySelectorAll(n);for(let l=0;l<i.length;l++)r(i[l],o[l])}}let Z1=0;function gE(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Z1++}`)}function mE(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const _E=nd({passive:!0}),Bp=nd({passive:!1}),iy=new Set(["position"]);class Y1{constructor(e,t,r,i,o,l){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ze,this._pointerMoveSubscription=vt.EMPTY,this._pointerUpSubscription=vt.EMPTY,this._scrollSubscription=vt.EMPTY,this._resizeSubscription=vt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ze,this.started=new ze,this.released=new ze,this.ended=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),M=this._dropContainer;if(!C)return void this._endDragSequence(c);(!M||!M.isDragging()&&!M.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const f=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,d);else{const p=this._activeTransform;p.x=f.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=f.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:c,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new fE(r),l.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=JC(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>yl(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>qn(r)),this._handles.forEach(r=>yl(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=qn(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Bp),t.addEventListener("touchstart",this._pointerDown,_E),t.addEventListener("dragstart",this._nativeDragStart,Bp)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?qn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),yl(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),yl(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){sd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();i.insertBefore(l,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),cE(r,!1,iy),this._document.body.appendChild(i.replaceChild(o,r)),this._getPreviewInsertionPoint(i,c).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=sd(t),o=!i&&0!==t.button,l=this._rootElement,c=Rp(t),d=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),f=i?function D1(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function y1(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),r||o||d||f)return;if(this._handles.length){const y=l.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=ny(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){cE(this._rootElement,!0,iy),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),l=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:o,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,l,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const o=e.matchSize?this._rootElement.getBoundingClientRect():null,l=e.viewContainer.createEmbeddedView(r,e.context);l.detectChanges(),i=yE(l,this._document),this._previewRef=l,e.matchSize?DE(i,o):i.style.transform=Hp(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;i=hE(o),DE(i,o.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return ey(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},iy),yl(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function q1(n){const e=getComputedStyle(n),t=ty(e,"transition-property"),r=t.find(c=>"transform"===c||"all"===c);if(!r)return 0;const i=t.indexOf(r),o=ty(e,"transition-duration"),l=ty(e,"transition-delay");return uE(o[i])+uE(l[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=l=>{var c;(!l||Rp(l)===this._preview&&"transform"===l.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",i),r(),clearTimeout(o))},o=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=yE(this._placeholderRef,this._document)):r=hE(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():r,l=sd(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition();return{x:o.left-r.left+(l.pageX-o.left-c.left),y:o.top-r.top+(l.pageY-o.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=sd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=o,c.matrixTransform(l.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:l}=this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:f}=this._getPreviewRect(),p=c.top+l,m=c.bottom-(f-l);r=vE(r,c.left+o,c.right-(d-o)),i=vE(i,p,m)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,l=Math.abs(t-o.x),c=Math.abs(r-o.y);return l>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),c>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,yl(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Bp),e.removeEventListener("touchstart",this._pointerDown,_E),e.removeEventListener("dragstart",this._nativeDragStart,Bp)}_applyRootElementTransform(e,t){const r=Hp(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=Np(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,o=Hp(e,t);this._preview.style.transform=Np(o,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,l=i.right-r.right,c=r.top-i.top,d=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),l>0&&(e-=l)):e=0,r.height>i.height?(c>0&&(t+=c),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:sd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=Rp(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&od(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=XC(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return qn(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Hp(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function vE(n,e,t){return Math.max(e,Math.min(t,n))}function sd(n){return"t"===n.type[0]}function yE(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function DE(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Hp(e.left,e.top)}function ad(n,e){return Math.max(0,Math.min(e,n))}class J1{constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.sorted=new ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=vt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function I1(n=0,e=Yv){return n<0&&(n=0),iE(n,n,e)}(0,oE).pipe(Xv(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-c):2===this._verticalScrollDirection&&l.scrollBy(0,c),1===this._horizontalScrollDirection?l.scrollBy(-c,0):2===this._horizontalScrollDirection&&l.scrollBy(c,0)})},this.element=qn(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new fE(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let o;this._draggingStarted(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,r))):o=i;const l=this._activeDraggables,c=l.indexOf(e),d=e.getPlaceholderElement();let f=l[o];if(f===e&&(f=l[o+1]),!f&&(null==o||-1===o||o<l.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(f=l[0]),c>-1&&l.splice(c,1),f&&!this._dragDropRegistry.isDragging(f)){const p=f.getRootElement();p.parentElement.insertBefore(d,p),l.splice(o,0,e)}else qn(this.element).appendChild(d),l.push(e);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,l,c){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:l,dropPoint:c})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=qn(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!dE(this._clientRect,.05,t,r))return;const o=this._itemPositions,l=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===l&&o.length>0)return;const c="horizontal"===this._orientation,d=o.findIndex(L=>L.drag===e),f=o[l],m=f.clientRect,y=d>l?1:-1,C=this._getItemOffsetPx(o[d].clientRect,m,y),M=this._getSiblingOffsetPx(d,o,y),k=o.slice();(function X1(n,e,t){const r=ad(e,n.length-1),i=ad(t,n.length-1);if(r===i)return;const o=n[r],l=i<r?-1:1;for(let c=r;c!==i;c+=l)n[c]=n[c+l];n[i]=o})(o,d,l),this.sorted.next({previousIndex:d,currentIndex:l,container:this,item:e}),o.forEach((L,H)=>{if(k[H]===L)return;const F=L.drag===e,z=F?C:M,fe=F?e.getPlaceholderElement():L.drag.getRootElement();L.offset+=z,c?(fe.style.transform=Np(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),od(L.clientRect,0,z)):(fe.style.transform=Np(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),od(L.clientRect,z,0))}),this._previousSwap.overlaps=ry(m,t,r),this._previousSwap.drag=f.drag,this._previousSwap.delta=c?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,o=0;if(this._parentPositions.positions.forEach((l,c)=>{c===this._document||!l.clientRect||r||dE(l.clientRect,.05,e,t)&&([i,o]=function ex(n,e,t,r){const i=CE(e,r),o=EE(e,t);let l=0,c=0;if(i){const d=n.scrollTop;1===i?d>0&&(l=1):n.scrollHeight-d>n.clientHeight&&(l=2)}if(o){const d=n.scrollLeft;1===o?d>0&&(c=1):n.scrollWidth-d>n.clientWidth&&(c=2)}return[l,c]}(c,l.clientRect,e,t),(i||o)&&(r=c))}),!i&&!o){const{width:l,height:c}=this._viewportRuler.getViewportSize(),d={width:l,height:c,top:0,right:l,bottom:c,left:0};i=CE(d,t),o=EE(d,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=qn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=qn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:ny(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=qn(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const o=null===(r=this._itemPositions.find(l=>l.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=o||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,o=t[e].clientRect,l=t[e+-1*r];let c=o[i?"width":"height"]*r;if(l){const d=i?"left":"top",f=i?"right":"bottom";-1===r?c-=l.clientRect[d]-o[f]:c+=o[d]-l.clientRect[f]}return c}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let o=i?t.left-e.left:t.top-e.top;return-1===r&&(o+=i?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const l=r[r.length-1].clientRect;return i?e>=l.right:t>=l.bottom}{const l=r[0].clientRect;return i?e<=l.left:t<=l.top}}_getItemIndexFromPointerPosition(e,t,r,i){const o="horizontal"===this._orientation,l=this._itemPositions.findIndex(({drag:c,clientRect:d})=>{if(c===e)return!1;if(i){const f=o?i.x:i.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return o?t>=Math.floor(d.left)&&t<Math.floor(d.right):r>=Math.floor(d.top)&&r<Math.floor(d.bottom)});return-1!==l&&this.sortPredicate(l,e,this)?l:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&ry(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!ry(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const o=qn(this.element);return i===o||o.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{od(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=XC(qn(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function CE(n,e){const{top:t,bottom:r,height:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}function EE(n,e){const{left:t,right:r,width:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}const Vp=nd({passive:!1,capture:!0});let tx=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new ze,this.pointerUp=new ze,this.scroll=new ze,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Vp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Vp)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vp}),i||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Vp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,l)=>{this._document.addEventListener(l,o.handler,o.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new qe(i=>this._ngZone.runOutsideAngular(()=>{const l=c=>{this._activeDragInstances.length&&i.next(c)};return t.addEventListener("scroll",l,!0),()=>{t.removeEventListener("scroll",l,!0)}}))),Xs(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(_e(Lt),_e(mn))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nx={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let IE=(()=>{class n{constructor(t,r,i,o){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,r=nx){return new Y1(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new J1(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(_e(mn),_e(Lt),_e(j1),_e(tx))},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TE=new de("CDK_DRAG_PARENT"),rx=new de("CDK_DRAG_CONFIG"),ix=new de("CdkDropList"),SE=new de("CdkDragHandle"),ox=new de("CdkDragPlaceholder"),sx=new de("CdkDragPreview");let lx=(()=>{class n{constructor(t,r,i,o,l,c,d,f,p,m,y){this.element=t,this.dropContainer=r,this._ngZone=o,this._viewContainerRef=l,this._dir=d,this._changeDetectorRef=p,this._selfHandle=m,this._parentDrag=y,this._destroyed=new ze,this.started=new It,this.released=new It,this.ended=new It,this.entered=new It,this.exited=new It,this.dropped=new It,this.moved=new qe(C=>{const M=this._dragRef.moved.pipe(to(k=>({source:this,pointerPosition:k.pointerPosition,event:k.event,delta:k.delta,distance:k.distance}))).subscribe(C);return()=>{M.unsubscribe()}}),this._dragRef=f.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=JC(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Js(1),Xv(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):qn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function o1(n,e=0){return function s1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Js(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(o=>o.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:l,boundaryElement:c,draggingDisabled:d,rootElementSelector:f,previewContainer:p}=t;this.disabled=null!=d&&d,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),l&&(this.previewClass=l),c&&(this.boundaryElement=c),f&&(this.rootElementSelector=f),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe(aE(this._handles),function A1(n,e,t){const r=$e(n)||e||t?{next:n,error:e,complete:t}:n;return r?St((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(zt(o,d=>{var f;null===(f=r.next)||void 0===f||f.call(r,d),o.next(d)},()=>{var d;c=!1,null===(d=r.complete)||void 0===d||d.call(r),o.complete()},d=>{var f;c=!1,null===(f=r.error)||void 0===f||f.call(r,d),o.error(d)},()=>{var d,f;c&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):Ws}(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),function x1(n,e){return St((t,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();t.subscribe(zt(r,d=>{null==i||i.unsubscribe();let f=0;const p=o++;Ar(n(d,p)).subscribe(i=zt(r,m=>r.next(e?e(d,m,p,f++):m),()=>{i=null,c()}))},()=>{l=!0,c()}))})}(t=>Xs(...t.map(r=>r._stateChanges.pipe(aE(r))))),Xv(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(te(Vo),te(ix,12),te(mn),te(Lt),te(Zr),te(rx,8),te(G1,8),te(IE),te(cC),te(SE,10),te(TE,12))},n.\u0275dir=sn({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(dp(i,sx,5),dp(i,ox,5),dp(i,SE,5)),2&t){let o;ks(o=Os())&&(r._previewTemplate=o.first),ks(o=Os())&&(r._placeholderTemplate=o.first),ks(o=Os())&&(r._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&ep("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[cb([{provide:TE,useExisting:n}]),Rr]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({providers:[IE],imports:[U1]}),n})();class jp extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var ux=wl(489);const dx=["myModal"];function fx(n,e){if(1&n){const t=Nu();nt(0,"div",5)(1,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(1)}),Dr(2,"img",7),Ye(),nt(3,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(2)}),Dr(4,"img",8),Ye(),nt(5,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(3)}),Dr(6,"img",9),Ye(),nt(7,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(4)}),Dr(8,"img",10),Ye()()}if(2&n){const t=st();re(2),ct("src",t.getPieceIcon("queen"),bt),re(2),ct("src",t.getPieceIcon("rook"),bt),re(2),ct("src",t.getPieceIcon("bishop"),bt),re(2),ct("src",t.getPieceIcon("knight"),bt)}}function hx(n,e){if(1&n){const t=Nu();nt(0,"div",5)(1,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(1)}),Ho(2,"\u265b"),Ye(),nt(3,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(2)}),Ho(4,"\u265c"),Ye(),nt(5,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(3)}),Ho(6,"\u265d"),Ye(),nt(7,"div",6),Gn("click",function(){return Zt(t),st().changeSelection(4)}),Ho(8,"\u265e"),Ye()()}}const px=["boardRef"],gx=["modal"];function mx(n,e){if(1&n){const t=Nu();nt(0,"div",11),Gn("cdkDragEnded",function(i){return Zt(t),st().dragEnded(i)})("cdkDragMoved",function(i){return Zt(t),st().dragMoved(i)})("cdkDragStarted",function(i){return Zt(t),st().dragStart(i)}),Ye()}if(2&n){const t=e.$implicit,r=st();zi("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),ct("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",Wf)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function _x(n,e){if(1&n&&(nt(0,"span",18),Ho(1),Ye()),2&n){const t=st(2).index,r=st();zi("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),re(1),Hu(" ",r.engineFacade.coords.yCoords[t]," ")}}function vx(n,e){if(1&n&&(nt(0,"span",19),Ho(1),Ye()),2&n){const t=st().index,r=st(2);zi("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),re(1),Hu(" ",r.engineFacade.coords.xCoords[t]," ")}}function yx(n,e){if(1&n&&(nt(0,"div",20),Dr(1,"div",21),Ye()),2&n){const t=st(3);re(1),zi("font-size",t.pieceSize+"px"),ct("ngClass","piece")}}function Dx(n,e){if(1&n&&(nt(0,"div",14),yr(1,_x,2,5,"span",15),yr(2,vx,2,5,"span",16),yr(3,yx,2,3,"div",17),Ye()),2&n){const t=e.index,r=st().index,i=st();zi("background-color",i.getTileBackgroundColor(r,t)),ep("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),re(1),ct("ngIf",i.showCoords&&7===t),re(1),ct("ngIf",i.showCoords&&7===r),re(1),ct("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function wx(n,e){if(1&n&&(nt(0,"div",12),yr(1,Dx,4,15,"div",13),Ye()),2&n){const t=e.$implicit;re(1),ct("ngForOf",t)}}function bx(n,e){if(1&n&&(rs(),nt(0,"defs")(1,"marker",22),Dr(2,"path",23),Ye()()),2&n){const t=e.$implicit;re(1),ct("id",t+"Arrow"),re(1),zi("fill",t)}}function Cx(n,e){if(1&n&&(rs(),Dr(0,"line",24)),2&n){const t=e.$implicit;Lu("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function Ex(n,e){if(1&n&&(rs(),Dr(0,"circle",25)),2&n){const t=e.$implicit,r=st();Lu("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const Ix=function(){return["red","green","blue","orange"]};var D=(()=>{return(n=D||(D={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",D;var n})();class Dl{constructor(e,t,r,i,o){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=o}}class S{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new S(this.row,this.col)}}class Nt extends Dl{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new S(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new S(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new S(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new S(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new S(i,r));else if(!(this.board.getPieceByField instanceof Fe)){e.push(new S(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new S(i,r));else if(!(this.board.getPieceByField instanceof Fe)){e.push(new S(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new S(t,i));else if(!(this.board.getPieceByField instanceof Fe)){e.push(new S(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new S(t,i));else if(!(this.board.getPieceByField instanceof Fe)){e.push(new S(t,i));break}return e}}class Fe extends Dl{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let l=r-1;l>0;--l)if(!this.board.isFieldEmpty(t,l)||this.board.isFieldUnderAttack(t,l,this.color===D.WHITE?D.BLACK:D.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const l=this.board.getPieceByField(t,0);l instanceof Nt&&(l.isMovedAlready||e.push(new S(t,r-2)))}let o=!0;for(let l=r+1;l<7;++l)if(!this.board.isFieldEmpty(t,l)||this.board.isFieldUnderAttack(t,l,this.color===D.WHITE?D.BLACK:D.WHITE)){o=!1;break}if(o&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const l=this.board.getPieceByField(t,7);l instanceof Nt&&(l.isMovedAlready||e.push(new S(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new S(t,r-1)),e.push(new S(t,r+1)),e.push(new S(t+1,r)),e.push(new S(t-1,r)),e.push(new S(t-1,r-1)),e.push(new S(t-1,r+1)),e.push(new S(t+1,r-1)),e.push(new S(t+1,r+1)),e}}class Cr extends Dl{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,o=r-1;i>=0&&o>=0&&this.board.isFieldEmpty(i,o);--i,--o)e.push(new S(i,o));for(let i=t-1,o=r+1;i>=0&&o<8&&this.board.isFieldEmpty(i,o);--i,++o)e.push(new S(i,o));for(let i=t+1,o=r-1;i<8&&o>=0&&this.board.isFieldEmpty(i,o);++i,--o)e.push(new S(i,o));for(let i=t+1,o=r+1;i<8&&o<8&&this.board.isFieldEmpty(i,o);++i,++o)e.push(new S(i,o));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,o=r-1;i>=0&&o>=0;--i,--o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t-1,o=r+1;i>=0&&o<8;--i,++o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t+1,o=r-1;i<8&&o>=0;++i,--o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t+1,o=r+1;i<8&&o<8;++i,++o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,o=r-1;i>=0&&o>=0;--i,--o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t-1,o=r+1;i>=0&&o<8;--i,++o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t+1,o=r-1;i<8&&o>=0;++i,--o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t+1,o=r+1;i<8&&o<8;++i,++o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}return e}}class Er extends Dl{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new S(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new S(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new S(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new S(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new S(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new S(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new S(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new S(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new S(t-2,r-1)),e.push(new S(t-2,r+1)),e.push(new S(t-1,r-2)),e.push(new S(t-1,r+2)),e.push(new S(t+1,r-2)),e.push(new S(t+1,r+2)),e.push(new S(t+2,r-1)),e.push(new S(t+2,r+1)),e}}class Bt extends Dl{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new S(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new S(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new S(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new S(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===D.WHITE?D.BLACK:D.WHITE)&&e.push(new S(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===D.WHITE?D.BLACK:D.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===D.WHITE||this.board.reverted&&this.color===D.BLACK?(e.push(new S(t-1,r-1)),e.push(new S(t-1,r+1))):(e.push(new S(t+1,r-1)),e.push(new S(t+1,r+1))),e}}class Ti extends Dl{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,o=r-1;i>=0&&o>=0&&this.board.isFieldEmpty(i,o);--i,--o)e.push(new S(i,o));for(let i=t-1,o=r+1;i>=0&&o<8&&this.board.isFieldEmpty(i,o);--i,++o)e.push(new S(i,o));for(let i=t+1,o=r-1;i<8&&o>=0&&this.board.isFieldEmpty(i,o);++i,--o)e.push(new S(i,o));for(let i=t+1,o=r+1;i<8&&o<8&&this.board.isFieldEmpty(i,o);++i,++o)e.push(new S(i,o));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new S(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new S(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new S(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new S(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,o=r-1;i>=0&&o>=0;--i,--o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t-1,o=r+1;i>=0&&o<8;--i,++o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t+1,o=r-1;i<8&&o>=0;++i,--o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t+1,o=r+1;i<8&&o<8;++i,++o){if(this.board.isFieldTakenByEnemy(i,o,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,o));break}if(!this.board.isFieldEmpty(i,o))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===D.WHITE?D.BLACK:D.WHITE)){e.push(new S(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Fe||e.push(new S(i,r));break}e.push(new S(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Fe||e.push(new S(i,r));break}e.push(new S(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Fe||e.push(new S(t,i));break}e.push(new S(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Fe||e.push(new S(t,i));break}e.push(new S(t,i))}for(let i=t-1,o=r-1;i>=0&&o>=0;--i,--o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t-1,o=r+1;i>=0&&o<8;--i,++o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t+1,o=r-1;i<8&&o>=0;++i,--o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}for(let i=t+1,o=r+1;i<8&&o<8;++i,++o){if(!this.board.isFieldEmpty(i,o)){this.board.getPieceByField(i,o)instanceof Fe||e.push(new S(i,o));break}e.push(new S(i,o))}return e}}const J={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class ME{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let o=0;o<8;++o){let l=0;for(let c=0;c<i[o].split(" ")[0].length;++c){const d=i[o].charAt(c);if(d.match(/[0-9]/))l+=Number(d);else{switch(d){case"r":t.board.pieces.push(new Nt(new S(o,l),D.BLACK,J.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new Er(new S(o,l),D.BLACK,J.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new Cr(new S(o,l),D.BLACK,J.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new Ti(new S(o,l),D.BLACK,J.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new Fe(new S(o,l),D.BLACK,J.BLACK_KING,t.board));break;case"p":{const f=new Bt(new S(o,l),D.BLACK,J.BLACK_PAWN,t.board);(f.color===D.BLACK&&1!==f.point.row||f.color===D.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}case"R":t.board.pieces.push(new Nt(new S(o,l),D.WHITE,J.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new Er(new S(o,l),D.WHITE,J.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new Cr(new S(o,l),D.WHITE,J.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new Ti(new S(o,l),D.WHITE,J.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new Fe(new S(o,l),D.WHITE,J.WHITE_KING,t.board));break;case"P":{const f=new Bt(new S(o,l),D.WHITE,J.WHITE_PAWN,t.board);(f.color===D.BLACK&&1!==f.point.row||f.color===D.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}}++l}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,D.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,D.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,D.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,D.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(o=>o.color===t&&o instanceof Nt&&o.point.col===r);i&&(i.isMovedAlready=!0)}}class Tx{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class K{static willMoveCauseCheck(e,t,r,i,o,l){const c=l.getPieceByField(t,r),d=l.getPieceByField(i,o);c&&(c.point.row=i,c.point.col=o),d&&(l.pieces=l.pieces.filter(p=>p!==d));const f=l.isKingInCheck(e,l.pieces);return c&&(c.point.col=r,c.point.row=t),d&&l.pieces.push(d),f}static format(e,t,r){if(r){const o=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(o)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new Tx(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),o=new S(i.yAxis,i.xAxis),l=[];for(let c of t.pieces.filter(d=>d.color===r))for(let d of c.getPossibleMoves())!K.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&d.isEqual(o)&&l.push(c);return l}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),o=new S(i.yAxis,i.xAxis),l=[];for(let c of t.pieces.filter(d=>d.color===r))for(let d of c.getPossibleCaptures())!K.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&d.isEqual(o)&&l.push(c);return l}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof Bt?"P":e instanceof Er?"N":e instanceof Cr?"B":e instanceof Nt?"R":e instanceof Fe?"K":e instanceof Ti?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class AE{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new Bt(new S(1,t),D.BLACK,J.BLACK_PAWN,e));e.pieces.push(new Nt(new S(0,0),D.BLACK,J.BLACK_ROOK,e)),e.pieces.push(new Er(new S(0,1),D.BLACK,J.BLACK_KNIGHT,e)),e.pieces.push(new Cr(new S(0,2),D.BLACK,J.BLACK_BISHOP,e)),e.pieces.push(new Ti(new S(0,3),D.BLACK,J.BLACK_QUEEN,e)),e.pieces.push(new Fe(new S(0,4),D.BLACK,J.BLACK_KING,e)),e.pieces.push(new Cr(new S(0,5),D.BLACK,J.BLACK_BISHOP,e)),e.pieces.push(new Er(new S(0,6),D.BLACK,J.BLACK_KNIGHT,e)),e.pieces.push(new Nt(new S(0,7),D.BLACK,J.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new Bt(new S(6,t),D.WHITE,J.WHITE_PAWN,e));e.pieces.push(new Nt(new S(7,0),D.WHITE,J.WHITE_ROOK,e)),e.pieces.push(new Er(new S(7,1),D.WHITE,J.WHITE_KNIGHT,e)),e.pieces.push(new Cr(new S(7,2),D.WHITE,J.WHITE_BISHOP,e)),e.pieces.push(new Ti(new S(7,3),D.WHITE,J.WHITE_QUEEN,e)),e.pieces.push(new Fe(new S(7,4),D.WHITE,J.WHITE_KING,e)),e.pieces.push(new Cr(new S(7,5),D.WHITE,J.WHITE_BISHOP,e)),e.pieces.push(new Er(new S(7,6),D.WHITE,J.WHITE_KNIGHT,e)),e.pieces.push(new Nt(new S(7,7),D.WHITE,J.WHITE_ROOK,e)),e.calculateFEN()}}class Sx{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),AE.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let o of r){++i,o=o.replace(/[+#]/g,"");let l="";o.includes("=")&&(l=this.resolvePromotion(o.substring(o.length-1)),o=o.substring(0,o.length-2));let c=0===i||i%2==0?D.WHITE:D.BLACK;if(/^[a-z]\d$/g.test(o)){let d=K.findPieceByPossibleMovesContaining(o,t.board,c).find(f=>f instanceof Bt);d||(d=K.findPieceByPossibleCapturesContaining(o,t.board,c).find(f=>f instanceof Bt)),d&&t.move(K.formatSingle(d.point,!1)+o+l)}else if(/^[A-Z][a-h]\d$/g.test(o)){let f=K.findPieceByPossibleMovesContaining(o.substring(1),t.board,c).find(p=>this.resolvePieceByFirstChar(o.charAt(0),p));f&&t.move(K.formatSingle(f.point,!1)+o.substring(1)+l)}else if("O-O"===o)t.move(c===D.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(o)){let f,d=K.findPieceByPossibleCapturesContaining(o.substring(o.indexOf("x")+1),t.board,c).filter(p=>p instanceof Bt);f=d.length>1?this.resolveByCol(d,o.substring(0,1)):d[0],f&&t.move(K.formatSingle(f.point,!1)+o.substring(o.indexOf("x")+1)+l)}else if(/^[A-Z]x[a-z]\d$/g.test(o)){let d=K.findPieceByPossibleCapturesContaining(o.substring(o.indexOf("x")+1),t.board,c).find(f=>this.resolvePieceByFirstChar(o.substring(0,1),f));d&&t.move(K.formatSingle(d.point,!1)+o.substring(o.indexOf("x")+1)+l)}else if("O-O-O"===o)t.move(c===D.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(o)){let d=K.findPieceByPossibleCapturesContaining(o.substring(o.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(o.charAt(0),p)),f=this.resolveByRow(d,o.substring(1,2));f&&t.move(K.formatSingle(f.point,!1)+o.substring(o.indexOf("x")+1)+l)}else if(/^[A-Z][a-z][a-z]\d$/g.test(o)){let d=K.findPieceByPossibleMovesContaining(o.substring(2,4),t.board,c).filter(p=>this.resolvePieceByFirstChar(o.charAt(0),p)),f=this.resolveByCol(d,o.substring(1,2));f&&t.move(K.formatSingle(f.point,!1)+o.substring(2,4)+l)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(o)){let d=K.findPieceByPossibleCapturesContaining(o.substring(o.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(o.charAt(0),p)),f=this.resolveByCol(d,o.substring(1,2));f&&t.move(K.formatSingle(f.point,!1)+o.substring(o.indexOf("x")+1)+l)}else this.processR1f2(o,t,c,l)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let o=K.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(c=>this.resolvePieceByFirstChar(e.charAt(0),c)),l=this.resolveByRow(o,e.substring(1,2));l&&t.move(K.formatSingle(l.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=K.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof Fe?r="K":t instanceof Ti?r="Q":t instanceof Nt?r="R":t instanceof Cr?r="B":t instanceof Er?r="N":t instanceof Bt&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=K.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new S(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=K.formatSingle(e[0].point,!1);return K.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=K.formatSingle(e[0].point,!1);return K.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class oy{static getProcessor(e){switch(e){case Bs.FEN:return new ME;case Bs.PGN:return new Sx}}static getDefaultProcessor(){return new ME}}var Bs=(()=>{return(n=Bs||(Bs={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",Bs;var n})();class Mx{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class sy{static getClickPoint(e,t,r,i,o){return new S(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(o/8)))}static getDrawingPoint(e,t,r,i,o,l,c,d,f){const p=e/8,m=Math.floor((r-d)/p),y=Math.floor((i-f)/p);let C=t.resolve(o,c,l);return new Mx(Math.floor(m*p+p/2),Math.floor(y*p+p/2),C)}}class Ax{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class xx{constructor(){this.historyMovesSubject$=new jp([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let qi=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class Px{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===D.WHITE;switch(e.constructor){case Fe:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case Ti:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case Nt:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Cr:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case Er:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Bt:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class Fx{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class Rx{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class kx{constructor(){this.dragEndProcessor=new Rx}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class Ox{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class Lx{constructor(){this.dragStartProcessor=new Ox}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class Nx{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class Bx{constructor(){this.colorProcessor=new Nx}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class Hx{constructor(){this.arrowsSubject$=new jp([]),this.circlesSubject$=new jp([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class jx extends class Vx{constructor(){this.pgn="",this.currentIndex=.5}getPGN(){return this.pgn}processChecks(e,t,r){e?this.pgn+="#":t&&(this.pgn+="+")}reset(){this.pgn="",this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.pgn+="=Q";break;case 2:this.pgn+="=R";break;case 3:this.pgn+="=B";break;case 4:this.pgn+="=N"}}removeLast(){if(this.currentIndex>=.5){this.currentIndex-=.5;const e=new RegExp(/\d+\./g);e.test(this.pgn),this.pgn=this.pgn.substring(0,e.lastIndex).trim()}}}{process(e,t,r,i){this.currentIndex+=.5,this.pgn+=this.currentIndex%Math.floor(this.currentIndex)==0?" "+this.currentIndex+". ":" ";let o=[],l=[];i&&(o=K.findPieceByPossibleCapturesContaining(K.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name)),l=K.findPieceByPossibleMovesContaining(K.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name),t instanceof Bt&&!i&&0===o.length?this.pgn+=K.formatSingle(r,e.reverted):t instanceof Bt&&i?this.pgn+=K.formatSingle(t.point,e.reverted).substring(0,1)+"x"+K.formatSingle(r,e.reverted):t instanceof Fe&&2===Math.abs(t.point.col-r.col)?this.pgn+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof Bt)&&0===o.length&&l.length<2?this.pgn+=K.getFirstLetterPiece(t)+K.formatSingle(r,e.reverted):l&&2===l.length&&0===o.length?this.isEqualByCol(l[0],l[1])?this.pgn+=K.getFirstLetterPiece(t)+K.reverse(e,t.point.row)+K.formatSingle(r,e.reverted):this.pgn+=K.getFirstLetterPiece(t)+K.formatCol(e,t.point.col)+K.formatSingle(r,e.reverted):o.length>1?this.isEqualByCol(o[0],o[1])?this.pgn+=K.getFirstLetterPiece(t)+K.reverse(e,t.point.row)+"x"+K.formatSingle(r,e.reverted):this.pgn+=K.getFirstLetterPiece(t)+K.formatCol(e,t.point.col)+"x"+K.formatSingle(r,e.reverted):this.pgn+=K.getFirstLetterPiece(t)+"x"+K.formatSingle(r,e.reverted),this.pgn=this.pgn.trim()}resolvePieceByFirstChar(e,t){return K.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class Wx{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||oy.getDefaultProcessor()}addPieces(){AE.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class xE{constructor(e){this.board=e}}class $x{constructor(){this.statesSubject$=new jp([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class zx{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class Kx{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class PE extends class Gx{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!K.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!K.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class FE{static resolvePromotionChoice(e,t,r){const i=t.color===D.WHITE;switch(r){case 1:e.pieces.push(new Ti(t.point,t.color,i?J.WHITE_QUEEN:J.BLACK_QUEEN,e));break;case 2:e.pieces.push(new Nt(t.point,t.color,i?J.WHITE_ROOK:J.BLACK_ROOK,e));break;case 3:e.pieces.push(new Cr(t.point,t.color,i?J.WHITE_BISHOP:J.BLACK_BISHOP,e));break;case 4:e.pieces.push(new Er(t.point,t.color,i?J.WHITE_KNIGHT:J.BLACK_KNIGHT,e))}}}var Zi=(()=>{return(n=Zi||(Zi={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",Zi;var n})(),Up=(()=>{return(n=Up||(Up={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",Up;var n})();class Zx extends class Ux{constructor(e){this.dragStartStrategy=new Lx,this.dragEndStrategy=new kx,this.pgnProcessor=new jx,this.colorStrategy=new Bx,this.coords=new Fx,this.heightAndWidth=qi.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new Hx,this.pieceIconManager=new Px,this.moveHistoryProvider=new xx,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof Bt&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof Nt&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof Fe&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new Wx(this),this.boardLoader.addPieces(),this.boardStateProvider=new $x}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new xE(e))}move(e){if(e){const t=K.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=K.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===D.BLACK||!this.board.currentWhitePlayer&&i.color===D.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new S(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new S(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new S(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new S(t.yAxis,t.xAxis),this.board.lastMoveDest=new S(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new PE(e,t,this.board.currentWhitePlayer?D.WHITE:D.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new PE(e,t,this.board.currentWhitePlayer?D.WHITE:D.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===D.BLACK||!this.board.currentWhitePlayer&&e.color===D.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new S(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=sy.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const o=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&o){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(l=>l!==o));this.board.currentWhitePlayer=o.color===D.WHITE}this.isPieceDisabled(o)||(this._selected?this.handleClickEvent(t,!0):o&&(this.onFreeMode(o),this.onPieceClicked(o,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const o=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(o)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new xE(e))}movePiece(e,t,r){const i=this.board.pieces.find(o=>o.point.col===t.col&&o.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(o=>o!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new Ax(K.format(e.point,t,this.board.reverted),e.constant.name,e.color===D.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof Fe&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const l=this.board.getPieceByField(e.point.row,0);this.freeMode||(l.point.col=this.board.reverted?2:3)}else{const l=this.board.getPieceByField(e.point.row,7);this.freeMode||(l.point.col=this.board.reverted?4:5)}e instanceof Bt?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof Bt&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(FE.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(D.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(D.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(D.BLACK)||this.checkForPossibleMoves(D.WHITE),i=this.checkForPat(D.BLACK)||this.checkForPat(D.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const o=this.moveHistoryProvider.getLastMove();o&&e&&(o.move+=e),this.moveChange.emit(Object.assign(Object.assign({},o),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===D.WHITE&&!this.board.whiteKingChecked||e===D.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{FE.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!K.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!K.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===D.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===D.WHITE||this.darkDisabled&&e.color===D.BLACK)}addDrawPoint(e,t,r,i,o,l,c){const d=sy.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,o,l,c);if(this.drawPoint.isEqual(d)){const f=new Kx;f.drawPoint=d,this.drawProvider.containsCircle(f)?this.drawProvider.reomveCircle(f):this.drawProvider.addCircle(f)}else{const f=new zx;f.start=this.drawPoint,f.end=d,this.drawProvider.containsArrow(f)?this.drawProvider.removeArrow(f):this.drawProvider.addArrow(f)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=K.translateCoordsToIndex(r,this.board.reverted),o=this.board.getPieceByPoint(i.yAxis,i.xAxis);o&&(this.board.pieces=this.board.pieces.filter(c=>c!==o));let l=class qx{static create(e,t,r,i){let o,l=r===Up.LIGHT?D.WHITE:D.BLACK;switch(t){case Zi.QUEEN:o=new Ti(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_QUEEN:J.BLACK_QUEEN,i);break;case Zi.KING:o=new Fe(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_KING:J.BLACK_KING,i);break;case Zi.KNIGHT:o=new Er(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_KNIGHT:J.BLACK_KNIGHT,i);break;case Zi.BISHOP:o=new Cr(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_BISHOP:J.BLACK_BISHOP,i);break;case Zi.ROOK:o=new Nt(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_ROOK:J.BLACK_ROOK,i);break;case Zi.PAWN:o=new Bt(new S(e.yAxis,e.xAxis),l,l===D.WHITE?J.WHITE_PAWN:J.BLACK_PAWN,i)}return o}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(l),this.afterMoveActions()}}}class Qx{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,ux.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(o=>o.col===t&&o.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof Fe);return!!r&&t.some(i=>i.getPossibleCaptures().some(o=>o.col===r.point.col&&o.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof Fe&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),o=this.getPieceByField(t.point.row,7);return o instanceof Nt&&o.color===e&&(o.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof Nt&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===D.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let o=0;o<8;++o){let l=0;for(let c=0;c<8;++c){const d=this.pieces.find(f=>f.point.col===c&&f.point.row===o);d?(l>0&&(e+=l,l=0),d instanceof Nt?e+=d.color===D.BLACK?"r":"R":d instanceof Er?e+=d.color===D.BLACK?"n":"N":d instanceof Cr?e+=d.color===D.BLACK?"b":"B":d instanceof Ti?e+=d.color===D.BLACK?"q":"Q":d instanceof Fe?e+=d.color===D.BLACK?"k":"K":d instanceof Bt&&(e+=d.color===D.BLACK?"p":"P")):++l}l>0&&(e+=l),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(D.WHITE)+this.getCastleFENString(D.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new S((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof Fe)return e.color===D.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?D.WHITE:D.BLACK}}let RE=(()=>{class n{constructor(){this.componentMethodCallSource=new ze,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yx=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qo({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&up(dx,5),2&t){let i;ks(i=Os())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(nt(0,"div",0,1)(2,"div",2)(3,"div",3),yr(4,fx,9,4,"div",4),yr(5,hx,9,0,"div",4),Ye()()()),2&t&&(re(4),ct("ngIf",r.pieceIconInput),re(1),ct("ngIf",!r.pieceIconInput))},directives:[Ov],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),Xx=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=qi.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=qi.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=qi.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=qi.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=qi.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new It,this.checkmate=new It,this.stalemate=new It,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new Zx(new Qx,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=qi.MIN_BOARD_SIZE&&t<=qi.MAX_BOARD_SIZE?t:qi.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(oy.getProcessor(Bs.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(oy.getProcessor(Bs.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return sy.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(te(RE))},n.\u0275cmp=qo({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(up(px,5),up(gx,5)),2&t){let i;ks(i=Os())&&(r.boardRef=i.first),ks(i=Os())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&Gn("contextmenu",function(o){return r.onRightClick(o)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[Rr],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=Nu();nt(0,"div",0,1),Gn("pointerdown",function(l){return Zt(i),!x_(12).opened&&r.onMouseDown(l)})("pointerup",function(l){return Zt(i),!x_(12).opened&&r.onMouseUp(l)}),nt(2,"div",2),yr(3,mx,1,13,"div",3),yr(4,wx,2,1,"div",4),Ye(),rs(),nt(5,"svg",5),yr(6,bx,3,3,"defs",6),yr(7,Cx,1,6,"line",7),X_(8,"async"),yr(9,Ex,1,4,"circle",8),X_(10,"async"),Ye(),function ma(){!function Vi(){Y.lFrame.currentNamespace=null}()}(),Dr(11,"app-piece-promotion-modal",9,10),Ye()}2&t&&(zi("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),re(3),ct("ngForOf",r.engineFacade.board.pieces),re(1),ct("ngForOf",r.engineFacade.board.board),re(1),Lu("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),re(1),ct("ngForOf",function yb(n,e,t){const r=jt()+n,i=N();return i[r]===ee?Ci(i,r,t?e.call(t):e()):function Ou(n,e){return n[e]}(i,r)}(17,Ix)),re(1),ct("ngForOf",J_(8,13,r.engineFacade.drawProvider.arrows$)),re(2),ct("ngForOf",J_(10,15,r.engineFacade.drawProvider.circles$)),re(2),ct("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[Yx,AC,lx,RC,Ov,MC],pipes:[kC],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),Jx=(()=>{class n{static forRoot(){return{ngModule:n,providers:[RE]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pr({type:n}),n.\u0275inj=xr({imports:[[LC,cx]]}),n})(),eP=(()=>{class n{constructor(){this.title="pgn-viewer"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qo({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],["cols","50","rows","13",1,"pgn-content"]],template:function(t,r){1&t&&(nt(0,"div",0)(1,"span"),Ho(2,"PGN Viewer"),Ye(),Dr(3,"textarea",1)(4,"ngx-chess-board"),Ye())},directives:[Xx],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .pgn-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pr({type:n,bootstrap:[eP]}),n.\u0275inj=xr({providers:[],imports:[[$A,Jx.forRoot()]]}),n})();(function OS(){sC=!1})(),UA().bootstrapModule(tP).catch(n=>console.error(n))},489:function(Ir,Qi,wl){var $e;Ir=wl.nmd(Ir),function(){var b,rn="Expected a function",Vs="__lodash_hash_undefined__",Mi="__lodash_placeholder__",qe=1/0,Mr=9007199254740991,Xn=4294967295,Kp=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],St="[object Arguments]",zt="[object Array]",to="[object Boolean]",Ai="[object Date]",$o="[object Error]",Il="[object Function]",qp="[object GeneratorFunction]",Jn="[object Map]",zs="[object Number]",ni="[object Object]",Tl="[object Promise]",no="[object RegExp]",Fn="[object Set]",Ks="[object String]",Sl="[object Symbol]",Rn="[object WeakMap]",Gs="[object ArrayBuffer]",ro="[object DataView]",dd="[object Float32Array]",Ml="[object Float64Array]",fd="[object Int8Array]",hd="[object Int16Array]",pd="[object Int32Array]",gd="[object Uint8Array]",qs="[object Uint8ClampedArray]",Zs="[object Uint16Array]",Qs="[object Uint32Array]",md=/\b__p \+= '';/g,_d=/\b(__p \+=) '' \+/g,Yp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Al=/&(?:amp|lt|gt|quot|#39);/g,xl=/[&<>"']/g,vd=RegExp(Al.source),yd=RegExp(xl.source),Ar=/<%-([\s\S]+?)%>/g,Xp=/<%([\s\S]+?)%>/g,Dd=/<%=([\s\S]+?)%>/g,Jp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eg=/^\w*$/,wd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pl=/[\\^$.*+?()[\]{}|]/g,tg=RegExp(Pl.source),er=/^\s+/,ng=/\s/,bd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cd=/\{\n\/\* \[wrapped with (.+)\] \*/,Fl=/,? & /,Dy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rg=/[()=,{}\[\]\/\s]/,Ed=/\\(\\)?/g,Rl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ig=/\w*$/,kl=/^[-+]0x[0-9a-f]+$/i,og=/^0b[01]+$/i,Id=/^\[object .+?Constructor\]$/,Td=/^0o[0-7]+$/i,sg=/^(?:0|[1-9]\d*)$/,ag=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ys=/($^)/,lg=/['\n\r\u2028\u2029\\]/g,zo="\\ud800-\\udfff",Xs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Js="\\u2700-\\u27bf",Sd="a-z\\xdf-\\xf6\\xf8-\\xff",ea="A-Z\\xc0-\\xd6\\xd8-\\xde",Md="\\ufe0e\\ufe0f",ta="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ad="["+zo+"]",dg="["+ta+"]",Ce="["+Xs+"]",na="\\d+",ie="["+Js+"]",Mt="["+Sd+"]",xd="[^"+zo+ta+na+Js+Sd+ea+"]",Pd="\\ud83c[\\udffb-\\udfff]",Ko="[^"+zo+"]",Ht="(?:\\ud83c[\\udde6-\\uddff]){2}",Fd="[\\ud800-\\udbff][\\udc00-\\udfff]",io="["+ea+"]",tr="(?:"+Mt+"|"+xd+")",by="(?:"+io+"|"+xd+")",hg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",pg="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",gg="(?:"+Ce+"|"+Pd+")?",Rd="["+Md+"]?",Kt=Rd+gg+"(?:\\u200d(?:"+[Ko,Ht,Fd].join("|")+")"+Rd+gg+")*",je="(?:"+[ie,Ht,Fd].join("|")+")"+Kt,Iy="(?:"+[Ko+Ce+"?",Ce,Ht,Fd,Ad].join("|")+")",Ty=RegExp("['\u2019]","g"),Sy=RegExp(Ce,"g"),Te=RegExp(Pd+"(?="+Pd+")|"+Iy+Kt,"g"),My=RegExp([io+"?"+Mt+"+"+hg+"(?="+[dg,io,"$"].join("|")+")",by+"+"+pg+"(?="+[dg,io+tr,"$"].join("|")+")",io+"?"+tr+"+"+hg,io+"+"+pg,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",na,je].join("|"),"g"),xr=RegExp("[\\u200d"+zo+Xs+Md+"]"),Bl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_g=-1,Ue={};Ue[dd]=Ue[Ml]=Ue[fd]=Ue[hd]=Ue[pd]=Ue[gd]=Ue[qs]=Ue[Zs]=Ue[Qs]=!0,Ue[St]=Ue[zt]=Ue[Gs]=Ue[to]=Ue[ro]=Ue[Ai]=Ue[$o]=Ue[Il]=Ue[Jn]=Ue[zs]=Ue[ni]=Ue[no]=Ue[Fn]=Ue[Ks]=Ue[Rn]=!1;var Le={};Le[St]=Le[zt]=Le[Gs]=Le[ro]=Le[to]=Le[Ai]=Le[dd]=Le[Ml]=Le[fd]=Le[hd]=Le[pd]=Le[Jn]=Le[zs]=Le[ni]=Le[no]=Le[Fn]=Le[Ks]=Le[Sl]=Le[gd]=Le[qs]=Le[Zs]=Le[Qs]=!0,Le[$o]=Le[Il]=Le[Rn]=!1;var vg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,Vl=parseInt,Ld="object"==typeof global&&global&&global.Object===Object&&global,ri="object"==typeof self&&self&&self.Object===Object&&self,dt=Ld||ri||Function("return this")(),yg=Qi&&!Qi.nodeType&&Qi,_n=yg&&Ir&&!Ir.nodeType&&Ir,vn=_n&&_n.exports===yg,Nd=vn&&Ld.process,kn=function(){try{return _n&&_n.require&&_n.require("util").types||Nd&&Nd.binding&&Nd.binding("util")}catch(P){}}(),On=kn&&kn.isArrayBuffer,Bd=kn&&kn.isDate,Hd=kn&&kn.isMap,Vd=kn&&kn.isRegExp,Dg=kn&&kn.isSet,Pe=kn&&kn.isTypedArray;function yn(I,P,x){switch(x.length){case 0:return I.call(P);case 1:return I.call(P,x[0]);case 2:return I.call(P,x[0],x[1]);case 3:return I.call(P,x[0],x[1],x[2])}return I.apply(P,x)}function Ay(I,P,x,W){for(var oe=-1,Se=null==I?0:I.length;++oe<Se;){var ht=I[oe];P(W,ht,x(ht),I)}return W}function yt(I,P){for(var x=-1,W=null==I?0:I.length;++x<W&&!1!==P(I[x],x,I););return I}function Ne(I,P){for(var x=null==I?0:I.length;x--&&!1!==P(I[x],x,I););return I}function Go(I,P){for(var x=-1,W=null==I?0:I.length;++x<W;)if(!P(I[x],x,I))return!1;return!0}function nr(I,P){for(var x=-1,W=null==I?0:I.length,oe=0,Se=[];++x<W;){var ht=I[x];P(ht,x,I)&&(Se[oe++]=ht)}return Se}function oo(I,P){return!(null==I||!I.length)&&xi(I,P,0)>-1}function ia(I,P,x){for(var W=-1,oe=null==I?0:I.length;++W<oe;)if(x(P,I[W]))return!0;return!1}function Ie(I,P){for(var x=-1,W=null==I?0:I.length,oe=Array(W);++x<W;)oe[x]=P(I[x],x,I);return oe}function Dn(I,P){for(var x=-1,W=P.length,oe=I.length;++x<W;)I[oe+x]=P[x];return I}function jl(I,P,x,W){var oe=-1,Se=null==I?0:I.length;for(W&&Se&&(x=I[++oe]);++oe<Se;)x=P(x,I[oe],oe,I);return x}function qo(I,P,x,W){var oe=null==I?0:I.length;for(W&&oe&&(x=I[--oe]);oe--;)x=P(x,I[oe],oe,I);return x}function Ul(I,P){for(var x=-1,W=null==I?0:I.length;++x<W;)if(P(I[x],x,I))return!0;return!1}var jd=rr("length");function Pr(I,P,x){var W;return x(I,function(oe,Se,ht){if(P(oe,Se,ht))return W=Se,!1}),W}function oa(I,P,x,W){for(var oe=I.length,Se=x+(W?1:-1);W?Se--:++Se<oe;)if(P(I[Se],Se,I))return Se;return-1}function xi(I,P,x){return P==P?function Gt(I,P,x){for(var W=x-1,oe=I.length;++W<oe;)if(I[W]===P)return W;return-1}(I,P,x):oa(I,Vt,x)}function sn(I,P,x,W){for(var oe=x-1,Se=I.length;++oe<Se;)if(W(I[oe],P))return oe;return-1}function Vt(I){return I!=I}function Dt(I,P){var x=null==I?0:I.length;return x?Zo(I,P)/x:NaN}function rr(I){return function(P){return null==P?b:P[I]}}function Fr(I){return function(P){return null==I?b:I[P]}}function an(I,P,x,W,oe){return oe(I,function(Se,ht,Ve){x=W?(W=!1,Se):P(x,Se,ht,Ve)}),x}function Zo(I,P){for(var x,W=-1,oe=I.length;++W<oe;){var Se=P(I[W]);Se!==b&&(x=x===b?Se:x+Se)}return x}function Pi(I,P){for(var x=-1,W=Array(I);++x<I;)W[x]=P(x);return W}function ii(I){return I&&I.slice(0,Be(I)+1).replace(er,"")}function Re(I){return function(P){return I(P)}}function Wl(I,P){return Ie(P,function(x){return I[x]})}function At(I,P){return I.has(P)}function j(I,P){for(var x=-1,W=I.length;++x<W&&xi(P,I[x],0)>-1;);return x}function pe(I,P){for(var x=I.length;x--&&xi(P,I[x],0)>-1;);return x}function Ke(I,P){for(var x=I.length,W=0;x--;)I[x]===P&&++W;return W}var ln=Fr({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Fi=Fr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ft(I){return"\\"+vg[I]}function He(I){return xr.test(I)}function ce(I){var P=-1,x=Array(I.size);return I.forEach(function(W,oe){x[++P]=[oe,W]}),x}function Yo(I,P){return function(x){return I(P(x))}}function cn(I,P){for(var x=-1,W=I.length,oe=0,Se=[];++x<W;){var ht=I[x];(ht===P||ht===Mi)&&(I[x]=Mi,Se[oe++]=x)}return Se}function ao(I){var P=-1,x=Array(I.size);return I.forEach(function(W){x[++P]=W}),x}function Ln(I){return He(I)?function bg(I){for(var P=Te.lastIndex=0;Te.test(I);)++P;return P}(I):jd(I)}function Xe(I){return He(I)?function ir(I){return I.match(Te)||[]}(I):function Ud(I){return I.split("")}(I)}function Be(I){for(var P=I.length;P--&&ng.test(I.charAt(P)););return P}var wg=Fr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ki=function I(P){var s,x=(P=null==P?dt:ki.defaults(dt.Object(),P,ki.pick(dt,kd))).Array,W=P.Date,oe=P.Error,Se=P.Function,ht=P.Math,Ve=P.Object,$d=P.RegExp,xy=P.String,Bn=P.TypeError,zl=x.prototype,Jo=Ve.prototype,Kl=P["__core-js_shared__"],Gl=Se.prototype.toString,ke=Jo.hasOwnProperty,Fy=0,Cg=(s=/[^.]+$/.exec(Kl&&Kl.keys&&Kl.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",ql=Jo.toString,zd=Gl.call(Ve),Zl=dt._,Ry=$d("^"+Gl.call(ke).replace(Pl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ql=vn?P.Buffer:b,Oi=P.Symbol,or=P.Uint8Array,Kd=Ql?Ql.allocUnsafe:b,Rr=Yo(Ve.getPrototypeOf,Ve),Yl=Ve.create,Gd=Jo.propertyIsEnumerable,la=zl.splice,Xl=Oi?Oi.isConcatSpreadable:b,co=Oi?Oi.iterator:b,Li=Oi?Oi.toStringTag:b,uo=function(){try{var s=gi(Ve,"defineProperty");return s({},"",{}),s}catch(a){}}(),Eg=P.clearTimeout!==dt.clearTimeout&&P.clearTimeout,wn=W&&W.now!==dt.Date.now&&W.now,Jl=P.setTimeout!==dt.setTimeout&&P.setTimeout,ca=ht.ceil,fo=ht.floor,ec=Ve.getOwnPropertySymbols,Ig=Ql?Ql.isBuffer:b,ua=P.isFinite,Tg=zl.join,tc=Yo(Ve.keys,Ve),pt=ht.max,ve=ht.min,qd=W.now,Sg=P.parseInt,Je=ht.random,Mg=zl.reverse,Zd=gi(P,"DataView"),oi=gi(P,"Map"),qt=gi(P,"Promise"),ho=gi(P,"Set"),Ni=gi(P,"WeakMap"),sr=gi(Ve,"create"),xt=Ni&&new Ni,Bi={},nc=_i(Zd),Ag=_i(oi),si=_i(qt),Qd=_i(ho),rc=_i(Ni),Y=Oi?Oi.prototype:b,da=Y?Y.valueOf:b,Yd=Y?Y.toString:b;function _(s){if(Qe(s)&&!ue(s)&&!(s instanceof De)){if(s instanceof bn)return s;if(ke.call(s,"__wrapped__"))return Mo(s)}return new bn(s)}var po=function(){function s(){}return function(a){if(!re(a))return{};if(Yl)return Yl(a);s.prototype=a;var u=new s;return s.prototype=b,u}}();function es(){}function bn(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=b}function De(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xn,this.__views__=[]}function We(s){var a=-1,u=null==s?0:s.length;for(this.clear();++a<u;){var h=s[a];this.set(h[0],h[1])}}function ai(s){var a=-1,u=null==s?0:s.length;for(this.clear();++a<u;){var h=s[a];this.set(h[0],h[1])}}function lr(s){var a=-1,u=null==s?0:s.length;for(this.clear();++a<u;){var h=s[a];this.set(h[0],h[1])}}function Hi(s){var a=-1,u=null==s?0:s.length;for(this.__data__=new lr;++a<u;)this.add(s[a])}function Cn(s){var a=this.__data__=new ai(s);this.size=a.size}function cc(s,a){var u=ue(s),h=!u&&yi(s),g=!u&&!h&&Di(s),v=!u&&!h&&!g&&Ur(s),w=u||h||g||v,E=w?Pi(s.length,xy):[],T=E.length;for(var R in s)(a||ke.call(s,R))&&(!w||!("length"==R||g&&("offset"==R||"parent"==R)||v&&("buffer"==R||"byteLength"==R||"byteOffset"==R)||Wn(R,T)))&&E.push(R);return E}function uc(s){var a=s.length;return a?s[us(0,a-1)]:b}function nf(s,a){return Fc(Xt(s),Vi(a,0,s.length))}function ga(s){return Fc(Xt(s))}function dc(s,a,u){(u!==b&&!fn(s[a],u)||u===b&&!(a in s))&&Lr(s,a,u)}function ns(s,a,u){var h=s[a];(!ke.call(s,a)||!fn(h,u)||u===b&&!(a in s))&&Lr(s,a,u)}function gt(s,a){for(var u=s.length;u--;)if(fn(s[u][0],a))return u;return-1}function li(s,a,u,h){return cr(s,function(g,v,w){a(h,g,u(g),w)}),h}function Ze(s,a){return s&&hr(a,lt(a),s)}function Lr(s,a,u){"__proto__"==a&&uo?uo(s,a,{configurable:!0,enumerable:!0,value:u,writable:!0}):s[a]=u}function ma(s,a){for(var u=-1,h=a.length,g=x(h),v=null==s;++u<h;)g[u]=v?b:Ya(s,a[u]);return g}function Vi(s,a,u){return s==s&&(u!==b&&(s=s<=u?s:u),a!==b&&(s=s>=a?s:a)),s}function En(s,a,u,h,g,v){var w,E=1&a,T=2&a,R=4&a;if(u&&(w=g?u(s,h,g,v):u(s)),w!==b)return w;if(!re(s))return s;var O=ue(s);if(O){if(w=function So(s){var a=s.length,u=new s.constructor(a);return a&&"string"==typeof s[0]&&ke.call(s,"index")&&(u.index=s.index,u.input=s.input),u}(s),!E)return Xt(s,w)}else{var B=Ft(s),V=B==Il||B==qp;if(Di(s))return vf(s,E);if(B==ni||B==St||V&&!g){if(w=T||V?{}:Af(s),!E)return T?function $g(s,a){return hr(s,Mf(s),a)}(s,function rs(s,a){return s&&hr(a,en(a),s)}(w,s)):function Wg(s,a){return hr(s,Sf(s),a)}(s,Ze(w,s))}else{if(!Le[B])return g?s:{};w=function Qg(s,a,u){var h=s.constructor;switch(a){case Gs:return Tc(s);case to:case Ai:return new h(+s);case ro:return function Ly(s,a){var u=a?Tc(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.byteLength)}(s,u);case dd:case Ml:case fd:case hd:case pd:case gd:case qs:case Zs:case Qs:return Yt(s,u);case Jn:return new h;case zs:case Ks:return new h(s);case no:return function Ny(s){var a=new s.constructor(s.source,ig.exec(s));return a.lastIndex=s.lastIndex,a}(s);case Fn:return new h;case Sl:return function yf(s){return da?Ve(da.call(s)):{}}(s)}}(s,B,E)}}v||(v=new Cn);var $=v.get(s);if($)return $;v.set(s,w),su(s)?s.forEach(function(Q){w.add(En(Q,a,u,Q,s,v))}):iu(s)&&s.forEach(function(Q,ye){w.set(ye,En(Q,a,u,ye,s,v))});var ge=O?b:(R?T?ka:To:T?en:lt)(s);return yt(ge||s,function(Q,ye){ge&&(Q=s[ye=Q]),ns(w,ye,En(Q,a,u,ye,s,v))}),w}function is(s,a,u){var h=u.length;if(null==s)return!h;for(s=Ve(s);h--;){var g=u[h],w=s[g];if(w===b&&!(g in s)||!(0,a[g])(w))return!1}return!0}function os(s,a,u){if("function"!=typeof s)throw new Bn(rn);return vs(function(){s.apply(b,u)},a)}function ci(s,a,u,h){var g=-1,v=oo,w=!0,E=s.length,T=[],R=a.length;if(!E)return T;u&&(a=Ie(a,Re(u))),h?(v=ia,w=!1):a.length>=200&&(v=At,w=!1,a=new Hi(a));e:for(;++g<E;){var O=s[g],B=null==u?O:u(O);if(O=h||0!==O?O:0,w&&B==B){for(var V=R;V--;)if(a[V]===B)continue e;T.push(O)}else v(a,B,h)||T.push(O)}return T}_.templateSettings={escape:Ar,evaluate:Xp,interpolate:Dd,variable:"",imports:{_}},(_.prototype=es.prototype).constructor=_,(bn.prototype=po(es.prototype)).constructor=bn,(De.prototype=po(es.prototype)).constructor=De,We.prototype.clear=function Xd(){this.__data__=sr?sr(null):{},this.size=0},We.prototype.delete=function ts(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a},We.prototype.get=function ar(s){var a=this.__data__;if(sr){var u=a[s];return u===Vs?b:u}return ke.call(a,s)?a[s]:b},We.prototype.has=function ic(s){var a=this.__data__;return sr?a[s]!==b:ke.call(a,s)},We.prototype.set=function oc(s,a){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=sr&&a===b?Vs:a,this},ai.prototype.clear=function xg(){this.__data__=[],this.size=0},ai.prototype.delete=function fa(s){var a=this.__data__,u=gt(a,s);return!(u<0||(u==a.length-1?a.pop():la.call(a,u,1),--this.size,0))},ai.prototype.get=function ha(s){var a=this.__data__,u=gt(a,s);return u<0?b:a[u][1]},ai.prototype.has=function jt(s){return gt(this.__data__,s)>-1},ai.prototype.set=function kr(s,a){var u=this.__data__,h=gt(u,s);return h<0?(++this.size,u.push([s,a])):u[h][1]=a,this},lr.prototype.clear=function go(){this.size=0,this.__data__={hash:new We,map:new(oi||ai),string:new We}},lr.prototype.delete=function Or(s){var a=La(this,s).delete(s);return this.size-=a?1:0,a},lr.prototype.get=function Pg(s){return La(this,s).get(s)},lr.prototype.has=function Jd(s){return La(this,s).has(s)},lr.prototype.set=function Fg(s,a){var u=La(this,s),h=u.size;return u.set(s,a),this.size+=u.size==h?0:1,this},Hi.prototype.add=Hi.prototype.push=function sc(s){return this.__data__.set(s,Vs),this},Hi.prototype.has=function ac(s){return this.__data__.has(s)},Cn.prototype.clear=function lc(){this.__data__=new ai,this.size=0},Cn.prototype.delete=function Rg(s){var a=this.__data__,u=a.delete(s);return this.size=a.size,u},Cn.prototype.get=function ef(s){return this.__data__.get(s)},Cn.prototype.has=function pa(s){return this.__data__.has(s)},Cn.prototype.set=function tf(s,a){var u=this.__data__;if(u instanceof ai){var h=u.__data__;if(!oi||h.length<199)return h.push([s,a]),this.size=++u.size,this;u=this.__data__=new lr(h)}return u.set(s,a),this.size=u.size,this};var cr=Aa(ur),fc=Aa(hc,!0);function Og(s,a){var u=!0;return cr(s,function(h,g,v){return u=!!a(h,g,v)}),u}function Hn(s,a,u){for(var h=-1,g=s.length;++h<g;){var v=s[h],w=a(v);if(null!=w&&(E===b?w==w&&!Ot(w):u(w,E)))var E=w,T=v}return T}function rf(s,a){var u=[];return cr(s,function(h,g,v){a(h,g,v)&&u.push(h)}),u}function wt(s,a,u,h,g){var v=-1,w=s.length;for(u||(u=Ha),g||(g=[]);++v<w;){var E=s[v];a>0&&u(E)?a>1?wt(E,a-1,u,h,g):Dn(g,E):h||(g[g.length]=E)}return g}var ji=ds(),_a=ds(!0);function ur(s,a){return s&&ji(s,a,lt)}function hc(s,a){return s&&_a(s,a,lt)}function pc(s,a){return nr(a,function(u){return Vr(s[u])})}function mo(s,a){for(var u=0,h=(a=Nr(a,s)).length;null!=s&&u<h;)s=s[un(a[u++])];return u&&u==h?s:b}function as(s,a,u){var h=a(s);return ue(s)?h:Dn(h,u(s))}function Pt(s){return null==s?s===b?"[object Undefined]":"[object Null]":Li&&Li in Ve(s)?function qg(s){var a=ke.call(s,Li),u=s[Li];try{s[Li]=b;var h=!0}catch(v){}var g=ql.call(s);return h&&(a?s[Li]=u:delete s[Li]),g}(s):function Vy(s){return ql.call(s)}(s)}function ls(s,a){return s>a}function va(s,a){return null!=s&&ke.call(s,a)}function sf(s,a){return null!=s&&a in Ve(s)}function ui(s,a,u){for(var h=u?ia:oo,g=s[0].length,v=s.length,w=v,E=x(v),T=1/0,R=[];w--;){var O=s[w];w&&a&&(O=Ie(O,Re(a))),T=ve(O.length,T),E[w]=!u&&(a||g>=120&&O.length>=120)?new Hi(w&&O):b}O=s[0];var B=-1,V=E[0];e:for(;++B<g&&R.length<T;){var $=O[B],q=a?a($):$;if($=u||0!==$?$:0,!(V?At(V,q):h(R,q,u))){for(w=v;--w;){var ge=E[w];if(!(ge?At(ge,q):h(s[w],q,u)))continue e}V&&V.push(q),R.push($)}}return R}function dr(s,a,u){var h=null==(s=tm(s,a=Nr(a,s)))?s:s[un(bt(a))];return null==h?b:yn(h,s,u)}function ya(s){return Qe(s)&&Pt(s)==St}function _o(s,a,u,h,g){return s===a||(null==s||null==a||!Qe(s)&&!Qe(a)?s!=s&&a!=a:function lf(s,a,u,h,g,v){var w=ue(s),E=ue(a),T=w?zt:Ft(s),R=E?zt:Ft(a),O=(T=T==St?ni:T)==ni,B=(R=R==St?ni:R)==ni,V=T==R;if(V&&Di(s)){if(!Di(a))return!1;w=!0,O=!1}if(V&&!O)return v||(v=new Cn),w||Ur(s)?gs(s,a,u,h,g,v):function Gg(s,a,u,h,g,v,w){switch(u){case ro:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Gs:return!(s.byteLength!=a.byteLength||!v(new or(s),new or(a)));case to:case Ai:case zs:return fn(+s,+a);case $o:return s.name==a.name&&s.message==a.message;case no:case Ks:return s==a+"";case Jn:var E=ce;case Fn:if(E||(E=ao),s.size!=a.size&&!(1&h))return!1;var R=w.get(s);if(R)return R==a;h|=2,w.set(s,a);var O=gs(E(s),E(a),h,g,v,w);return w.delete(s),O;case Sl:if(da)return da.call(s)==da.call(a)}return!1}(s,a,T,u,h,g,v);if(!(1&u)){var $=O&&ke.call(s,"__wrapped__"),q=B&&ke.call(a,"__wrapped__");if($||q){var ge=$?s.value():s,Q=q?a.value():a;return v||(v=new Cn),g(ge,Q,u,h,v)}}return!!V&&(v||(v=new Cn),function If(s,a,u,h,g,v){var w=1&u,E=To(s),T=E.length;if(T!=To(a).length&&!w)return!1;for(var B=T;B--;){var V=E[B];if(!(w?V in a:ke.call(a,V)))return!1}var $=v.get(s),q=v.get(a);if($&&q)return $==a&&q==s;var ge=!0;v.set(s,a),v.set(a,s);for(var Q=w;++B<T;){var ye=s[V=E[B]],we=a[V];if(h)var An=w?h(we,ye,V,a,s,v):h(ye,we,V,s,a,v);if(!(An===b?ye===we||g(ye,we,u,h,v):An)){ge=!1;break}Q||(Q="constructor"==V)}if(ge&&!Q){var tn=s.constructor,Wt=a.constructor;tn!=Wt&&"constructor"in s&&"constructor"in a&&!("function"==typeof tn&&tn instanceof tn&&"function"==typeof Wt&&Wt instanceof Wt)&&(ge=!1)}return v.delete(s),v.delete(a),ge}(s,a,u,h,g,v))}(s,a,u,h,_o,g))}function gc(s,a,u,h){var g=u.length,v=g,w=!h;if(null==s)return!v;for(s=Ve(s);g--;){var E=u[g];if(w&&E[2]?E[1]!==s[E[0]]:!(E[0]in s))return!1}for(;++g<v;){var T=(E=u[g])[0],R=s[T],O=E[1];if(w&&E[2]){if(R===b&&!(T in s))return!1}else{var B=new Cn;if(h)var V=h(R,O,T,s,a,B);if(!(V===b?_o(O,R,3,h,B):V))return!1}}return!0}function vo(s){return!(!re(s)||function Yg(s){return!!Cg&&Cg in s}(s))&&(Vr(s)?Ry:Id).test(_i(s))}function cs(s){return"function"==typeof s?s:null==s?Ct:"object"==typeof s?ue(s)?uf(s[0],s[1]):Dc(s):Mu(s)}function vc(s){if(!ms(s))return tc(s);var a=[];for(var u in Ve(s))ke.call(s,u)&&"constructor"!=u&&a.push(u);return a}function ba(s,a){return s<a}function yc(s,a){var u=-1,h=Jt(s)?x(s.length):[];return cr(s,function(g,v,w){h[++u]=a(g,v,w)}),h}function Dc(s){var a=Tf(s);return 1==a.length&&a[0][2]?Ff(a[0][0],a[0][1]):function(u){return u===s||gc(u,s,a)}}function uf(s,a){return Va(s)&&Pf(a)?Ff(un(s),a):function(u){var h=Ya(u,s);return h===b&&h===a?Xa(u,s):_o(a,h,3)}}function Ca(s,a,u,h,g){s!==a&&ji(a,function(v,w){if(g||(g=new Cn),re(v))!function Ea(s,a,u,h,g,v,w){var E=Rf(s,u),T=Rf(a,u),R=w.get(T);if(R)dc(s,u,R);else{var O=v?v(E,T,u+"",s,a,w):b,B=O===b;if(B){var V=ue(T),$=!V&&Di(T),q=!V&&!$&&Ur(T);O=T,V||$||q?ue(E)?O=E:et(E)?O=Xt(E):$?(B=!1,O=vf(T,!0)):q?(B=!1,O=Yt(T,!0)):O=[]:Po(T)||yi(T)?(O=E,yi(E)?O=Dh(E):(!re(E)||Vr(E))&&(O=Af(T))):B=!1}B&&(w.set(T,O),g(O,T,h,v,w),w.delete(T)),dc(s,u,O)}}(s,a,w,u,Ca,h,g);else{var E=h?h(Rf(s,w),v,w+"",s,a,g):b;E===b&&(E=v),dc(s,w,E)}},en)}function yo(s,a){var u=s.length;if(u)return Wn(a+=a<0?u:0,u)?s[a]:b}function df(s,a,u){a=a.length?Ie(a,function(v){return ue(v)?function(w){return mo(w,1===v.length?v[0]:v)}:v}):[Ct];var h=-1;return a=Ie(a,Re(G())),function sa(I,P){var x=I.length;for(I.sort(P);x--;)I[x]=I[x].value;return I}(yc(s,function(v,w,E){return{criteria:Ie(a,function(R){return R(v)}),index:++h,value:v}}),function(v,w){return function Eo(s,a,u){for(var h=-1,g=s.criteria,v=a.criteria,w=g.length,E=u.length;++h<w;){var T=Sa(g[h],v[h]);if(T)return h>=E?T:T*("desc"==u[h]?-1:1)}return s.index-a.index}(v,w,u)})}function wc(s,a,u){for(var h=-1,g=a.length,v={};++h<g;){var w=a[h],E=mo(s,w);u(E,w)&&fr(v,Nr(w,s),E)}return v}function bc(s,a,u,h){var g=h?sn:xi,v=-1,w=a.length,E=s;for(s===a&&(a=Xt(a)),u&&(E=Ie(s,Re(u)));++v<w;)for(var T=0,R=a[v],O=u?u(R):R;(T=g(E,O,T,h))>-1;)E!==s&&la.call(E,T,1),la.call(s,T,1);return s}function Ia(s,a){for(var u=s?a.length:0,h=u-1;u--;){var g=a[u];if(u==h||g!==v){var v=g;Wn(g)?la.call(s,g,1):gf(s,g)}}return s}function us(s,a){return s+fo(Je()*(a-s+1))}function di(s,a){var u="";if(!s||a<1||a>Mr)return u;do{a%2&&(u+=s),(a=fo(a/2))&&(s+=s)}while(a);return u}function se(s,a){return Pc(em(s,a,Ct),s+"")}function hf(s){return uc($r(s))}function Cc(s,a){var u=$r(s);return Fc(u,Vi(a,0,u.length))}function fr(s,a,u,h){if(!re(s))return s;for(var g=-1,v=(a=Nr(a,s)).length,w=v-1,E=s;null!=E&&++g<v;){var T=un(a[g]),R=u;if("__proto__"===T||"constructor"===T||"prototype"===T)return s;if(g!=w){var O=E[T];(R=h?h(O,T,E):b)===b&&(R=re(O)?O:Wn(a[g+1])?[]:{})}ns(E,T,R),E=E[T]}return s}var Bg=xt?function(s,a){return xt.set(s,a),s}:Ct,Hg=uo?function(s,a){return uo(s,"toString",{configurable:!0,enumerable:!1,value:Cu(a),writable:!0})}:Ct;function de(s){return Fc($r(s))}function Vn(s,a,u){var h=-1,g=s.length;a<0&&(a=-a>g?0:g+a),(u=u>g?g:u)<0&&(u+=g),g=a>u?0:u-a>>>0,a>>>=0;for(var v=x(g);++h<g;)v[h]=s[h+a];return v}function Oy(s,a){var u;return cr(s,function(h,g,v){return!(u=a(h,g,v))}),!!u}function Ec(s,a,u){var h=0,g=null==s?h:s.length;if("number"==typeof a&&a==a&&g<=2147483647){for(;h<g;){var v=h+g>>>1,w=s[v];null!==w&&!Ot(w)&&(u?w<=a:w<a)?h=v+1:g=v}return g}return pf(s,a,Ct,u)}function pf(s,a,u,h){var g=0,v=null==s?0:s.length;if(0===v)return 0;for(var w=(a=u(a))!=a,E=null===a,T=Ot(a),R=a===b;g<v;){var O=fo((g+v)/2),B=u(s[O]),V=B!==b,$=null===B,q=B==B,ge=Ot(B);if(w)var Q=h||q;else Q=R?q&&(h||V):E?q&&V&&(h||!$):T?q&&V&&!$&&(h||!ge):!$&&!ge&&(h?B<=a:B<a);Q?g=O+1:v=O}return ve(v,4294967294)}function Vg(s,a){for(var u=-1,h=s.length,g=0,v=[];++u<h;){var w=s[u],E=a?a(w):w;if(!u||!fn(E,T)){var T=E;v[g++]=0===w?0:w}}return v}function jg(s){return"number"==typeof s?s:Ot(s)?NaN:+s}function In(s){if("string"==typeof s)return s;if(ue(s))return Ie(s,In)+"";if(Ot(s))return Yd?Yd.call(s):"";var a=s+"";return"0"==a&&1/s==-qe?"-0":a}function Tn(s,a,u){var h=-1,g=oo,v=s.length,w=!0,E=[],T=E;if(u)w=!1,g=ia;else if(v>=200){var R=a?null:Kg(s);if(R)return ao(R);w=!1,g=At,T=new Hi}else T=a?[]:E;e:for(;++h<v;){var O=s[h],B=a?a(O):O;if(O=u||0!==O?O:0,w&&B==B){for(var V=T.length;V--;)if(T[V]===B)continue e;a&&T.push(B),E.push(O)}else g(T,B,u)||(T!==E&&T.push(B),E.push(O))}return E}function gf(s,a){return null==(s=tm(s,a=Nr(a,s)))||delete s[un(bt(a))]}function it(s,a,u,h){return fr(s,a,u(mo(s,a)),h)}function bo(s,a,u,h){for(var g=s.length,v=h?g:-1;(h?v--:++v<g)&&a(s[v],v,s););return u?Vn(s,h?0:v,h?v+1:g):Vn(s,h?v+1:0,h?g:v)}function Co(s,a){var u=s;return u instanceof De&&(u=u.value()),jl(a,function(h,g){return g.func.apply(g.thisArg,Dn([h],g.args))},u)}function mf(s,a,u){var h=s.length;if(h<2)return h?Tn(s[0]):[];for(var g=-1,v=x(h);++g<h;)for(var w=s[g],E=-1;++E<h;)E!=g&&(v[g]=ci(v[g]||w,s[E],a,u));return Tn(wt(v,1),a,u)}function _f(s,a,u){for(var h=-1,g=s.length,v=a.length,w={};++h<g;)u(w,s[h],h<v?a[h]:b);return w}function Qt(s){return et(s)?s:[]}function Sn(s){return"function"==typeof s?s:Ct}function Nr(s,a){return ue(s)?s:Va(s,a)?[s]:Lf(Me(s))}var Ta=se;function Mn(s,a,u){var h=s.length;return u=u===b?h:u,!a&&u>=h?s:Vn(s,a,u)}var Ic=Eg||function(s){return dt.clearTimeout(s)};function vf(s,a){if(a)return s.slice();var u=s.length,h=Kd?Kd(u):new s.constructor(u);return s.copy(h),h}function Tc(s){var a=new s.constructor(s.byteLength);return new or(a).set(new or(s)),a}function Yt(s,a){var u=a?Tc(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.length)}function Sa(s,a){if(s!==a){var u=s!==b,h=null===s,g=s==s,v=Ot(s),w=a!==b,E=null===a,T=a==a,R=Ot(a);if(!E&&!R&&!v&&s>a||v&&w&&T&&!E&&!R||h&&w&&T||!u&&T||!g)return 1;if(!h&&!v&&!R&&s<a||R&&u&&g&&!h&&!v||E&&u&&g||!w&&g||!T)return-1}return 0}function Ug(s,a,u,h){for(var g=-1,v=s.length,w=u.length,E=-1,T=a.length,R=pt(v-w,0),O=x(T+R),B=!h;++E<T;)O[E]=a[E];for(;++g<w;)(B||g<v)&&(O[u[g]]=s[g]);for(;R--;)O[E++]=s[g++];return O}function Sc(s,a,u,h){for(var g=-1,v=s.length,w=-1,E=u.length,T=-1,R=a.length,O=pt(v-E,0),B=x(O+R),V=!h;++g<O;)B[g]=s[g];for(var $=g;++T<R;)B[$+T]=a[T];for(;++w<E;)(V||g<v)&&(B[$+u[w]]=s[g++]);return B}function Xt(s,a){var u=-1,h=s.length;for(a||(a=x(h));++u<h;)a[u]=s[u];return a}function hr(s,a,u,h){var g=!u;u||(u={});for(var v=-1,w=a.length;++v<w;){var E=a[v],T=h?h(u[E],s[E],E,u,s):b;T===b&&(T=s[E]),g?Lr(u,E,T):ns(u,E,T)}return u}function Ma(s,a){return function(u,h){var g=ue(u)?Ay:li,v=a?a():{};return g(u,s,G(h,2),v)}}function Ui(s){return se(function(a,u){var h=-1,g=u.length,v=g>1?u[g-1]:b,w=g>2?u[2]:b;for(v=s.length>3&&"function"==typeof v?(g--,v):b,w&&Rt(u[0],u[1],w)&&(v=g<3?b:v,g=1),a=Ve(a);++h<g;){var E=u[h];E&&s(a,E,h,v)}return a})}function Aa(s,a){return function(u,h){if(null==u)return u;if(!Jt(u))return s(u,h);for(var g=u.length,v=a?g:-1,w=Ve(u);(a?v--:++v<g)&&!1!==h(w[v],v,w););return u}}function ds(s){return function(a,u,h){for(var g=-1,v=Ve(a),w=h(a),E=w.length;E--;){var T=w[s?E:++g];if(!1===u(v[T],T,v))break}return a}}function Io(s){return function(a){var u=He(a=Me(a))?Xe(a):b,h=u?u[0]:a.charAt(0),g=u?Mn(u,1).join(""):a.slice(1);return h[s]()+g}}function fi(s){return function(a){return jl(Bh(yu(a).replace(Ty,"")),s,"")}}function hi(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=po(s.prototype),h=s.apply(u,a);return re(h)?h:u}}function Df(s){return function(a,u,h){var g=Ve(a);if(!Jt(a)){var v=G(u,3);a=lt(a),u=function(E){return v(g[E],E,g)}}var w=s(a,u,h);return w>-1?g[v?a[w]:w]:b}}function wf(s){return jn(function(a){var u=a.length,h=u,g=bn.prototype.thru;for(s&&a.reverse();h--;){var v=a[h];if("function"!=typeof v)throw new Bn(rn);if(g&&!w&&"wrapper"==Oa(v))var w=new bn([],!0)}for(h=w?h:u;++h<u;){var E=Oa(v=a[h]),T="wrapper"==E?Ac(v):b;w=T&&ja(T[0])&&424==T[1]&&!T[4].length&&1==T[9]?w[Oa(T[0])].apply(w,T[3]):1==v.length&&ja(v)?w[E]():w.thru(v)}return function(){var R=arguments,O=R[0];if(w&&1==R.length&&ue(O))return w.plant(O).value();for(var B=0,V=u?a[B].apply(this,R):O;++B<u;)V=a[B].call(this,V);return V}})}function fs(s,a,u,h,g,v,w,E,T,R){var O=128&a,B=1&a,V=2&a,$=24&a,q=512&a,ge=V?b:hi(s);return function Q(){for(var ye=arguments.length,we=x(ye),An=ye;An--;)we[An]=arguments[An];if($)var tn=Un(Q),Wt=Ke(we,tn);if(h&&(we=Ug(we,h,g,$)),v&&(we=Sc(we,v,w,$)),ye-=Wt,$&&ye<R){var tt=cn(we,tn);return Fa(s,a,fs,Q.placeholder,u,we,tt,E,T,R-ye)}var xn=B?u:this,_r=V?xn[s]:s;return ye=we.length,E?we=jy(we,E):q&&ye>1&&we.reverse(),O&&T<ye&&(we.length=T),this&&this!==dt&&this instanceof Q&&(_r=ge||hi(_r)),_r.apply(xn,we)}}function bf(s,a){return function(u,h){return function Lg(s,a,u,h){return ur(s,function(g,v,w){a(h,u(g),v,w)}),h}(u,s,a(h),{})}}function pi(s,a){return function(u,h){var g;if(u===b&&h===b)return a;if(u!==b&&(g=u),h!==b){if(g===b)return h;"string"==typeof u||"string"==typeof h?(u=In(u),h=In(h)):(u=jg(u),h=jg(h)),g=s(u,h)}return g}}function xa(s){return jn(function(a){return a=Ie(a,Re(G())),se(function(u){var h=this;return s(a,function(g){return yn(g,h,u)})})})}function Pa(s,a){var u=(a=a===b?" ":In(a)).length;if(u<2)return u?di(a,s):a;var h=di(a,ca(s/Ln(a)));return He(a)?Mn(Xe(h),0,s).join(""):h.slice(0,s)}function Mc(s){return function(a,u,h){return h&&"number"!=typeof h&&Rt(a,u,h)&&(u=h=b),a=Wr(a),u===b?(u=a,a=0):u=Wr(u),function wo(s,a,u,h){for(var g=-1,v=pt(ca((a-s)/(u||1)),0),w=x(v);v--;)w[h?v:++g]=s,s+=u;return w}(a,u,h=h===b?a<u?1:-1:Wr(h),s)}}function hs(s){return function(a,u){return"string"==typeof a&&"string"==typeof u||(a=Kn(a),u=Kn(u)),s(a,u)}}function Fa(s,a,u,h,g,v,w,E,T,R){var O=8&a;a|=O?32:64,4&(a&=~(O?64:32))||(a&=-4);var ge=[s,a,g,O?v:b,O?w:b,O?b:v,O?b:w,E,T,R],Q=u.apply(b,ge);return ja(s)&&xc(Q,ge),Q.placeholder=h,kf(Q,s,a)}function Wi(s){var a=ht[s];return function(u,h){if(u=Kn(u),(h=null==h?0:ve(he(h),292))&&ua(u)){var g=(Me(u)+"e").split("e");return+((g=(Me(a(g[0]+"e"+(+g[1]+h)))+"e").split("e"))[0]+"e"+(+g[1]-h))}return a(u)}}var Kg=ho&&1/ao(new ho([,-0]))[1]==qe?function(s){return new ho(s)}:xs;function Cf(s){return function(a){var u=Ft(a);return u==Jn?ce(a):u==Fn?function lo(I){var P=-1,x=Array(I.size);return I.forEach(function(W){x[++P]=[W,W]}),x}(a):function aa(I,P){return Ie(P,function(x){return[x,I[x]]})}(a,s(a))}}function Br(s,a,u,h,g,v,w,E){var T=2&a;if(!T&&"function"!=typeof s)throw new Bn(rn);var R=h?h.length:0;if(R||(a&=-97,h=g=b),w=w===b?w:pt(he(w),0),E=E===b?E:he(E),R-=g?g.length:0,64&a){var O=h,B=g;h=g=b}var V=T?b:Ac(s),$=[s,a,u,h,g,O,B,v,w,E];if(V&&function _s(s,a){var u=s[1],h=a[1],g=u|h;if(!(g<131||(128==h&&8==u||128==h&&256==u&&s[7].length<=a[8]||384==h&&a[7].length<=a[8]&&8==u)))return s;1&h&&(s[2]=a[2],g|=1&u?0:4);var E=a[3];if(E){var T=s[3];s[3]=T?Ug(T,E,a[4]):E,s[4]=T?cn(s[3],Mi):a[4]}(E=a[5])&&(s[5]=(T=s[5])?Sc(T,E,a[6]):E,s[6]=T?cn(s[5],Mi):a[6]),(E=a[7])&&(s[7]=E),128&h&&(s[8]=null==s[8]?a[8]:ve(s[8],a[8])),null==s[9]&&(s[9]=a[9]),s[0]=a[0],s[1]=g}($,V),s=$[0],a=$[1],u=$[2],h=$[3],g=$[4],!(E=$[9]=$[9]===b?T?0:s.length:pt($[9]-R,0))&&24&a&&(a&=-25),a&&1!=a)q=8==a||16==a?function zg(s,a,u){var h=hi(s);return function g(){for(var v=arguments.length,w=x(v),E=v,T=Un(g);E--;)w[E]=arguments[E];var R=v<3&&w[0]!==T&&w[v-1]!==T?[]:cn(w,T);return(v-=R.length)<u?Fa(s,a,fs,g.placeholder,b,w,R,b,b,u-v):yn(this&&this!==dt&&this instanceof g?h:s,this,w)}}(s,a,E):32!=a&&33!=a||g.length?fs.apply(b,$):function _e(s,a,u,h){var g=1&a,v=hi(s);return function w(){for(var E=-1,T=arguments.length,R=-1,O=h.length,B=x(O+T),V=this&&this!==dt&&this instanceof w?v:s;++R<O;)B[R]=h[R];for(;T--;)B[R++]=arguments[++E];return yn(V,g?u:this,B)}}(s,a,u,h);else var q=function By(s,a,u){var h=1&a,g=hi(s);return function v(){return(this&&this!==dt&&this instanceof v?g:s).apply(h?u:this,arguments)}}(s,a,u);return kf((V?Bg:xc)(q,$),s,a)}function Ra(s,a,u,h){return s===b||fn(s,Jo[u])&&!ke.call(h,u)?a:s}function ps(s,a,u,h,g,v){return re(s)&&re(a)&&(v.set(a,s),Ca(s,a,b,ps,v),v.delete(a)),s}function Ef(s){return Po(s)?b:s}function gs(s,a,u,h,g,v){var w=1&u,E=s.length,T=a.length;if(E!=T&&!(w&&T>E))return!1;var R=v.get(s),O=v.get(a);if(R&&O)return R==a&&O==s;var B=-1,V=!0,$=2&u?new Hi:b;for(v.set(s,a),v.set(a,s);++B<E;){var q=s[B],ge=a[B];if(h)var Q=w?h(ge,q,B,a,s,v):h(q,ge,B,s,a,v);if(Q!==b){if(Q)continue;V=!1;break}if($){if(!Ul(a,function(ye,we){if(!At($,we)&&(q===ye||g(q,ye,u,h,v)))return $.push(we)})){V=!1;break}}else if(q!==ge&&!g(q,ge,u,h,v)){V=!1;break}}return v.delete(s),v.delete(a),V}function jn(s){return Pc(em(s,b,jf),s+"")}function To(s){return as(s,lt,Sf)}function ka(s){return as(s,en,Mf)}var Ac=xt?function(s){return xt.get(s)}:xs;function Oa(s){for(var a=s.name+"",u=Bi[a],h=ke.call(Bi,a)?u.length:0;h--;){var g=u[h],v=g.func;if(null==v||v==s)return g.name}return a}function Un(s){return(ke.call(_,"placeholder")?_:s).placeholder}function G(){var s=_.iteratee||As;return s=s===As?cs:s,arguments.length?s(arguments[0],arguments[1]):s}function La(s,a){var u=s.__data__;return function xf(s){var a=typeof s;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==s:null===s}(a)?u["string"==typeof a?"string":"hash"]:u.map}function Tf(s){for(var a=lt(s),u=a.length;u--;){var h=a[u],g=s[h];a[u]=[h,g,Pf(g)]}return a}function gi(s,a){var u=function Ri(I,P){return null==I?b:I[P]}(s,a);return vo(u)?u:b}var Sf=ec?function(s){return null==s?[]:(s=Ve(s),nr(ec(s),function(a){return Gd.call(s,a)}))}:Lo,Mf=ec?function(s){for(var a=[];s;)Dn(a,Sf(s)),s=Rr(s);return a}:Lo,Ft=Pt;function Ba(s,a,u){for(var h=-1,g=(a=Nr(a,s)).length,v=!1;++h<g;){var w=un(a[h]);if(!(v=null!=s&&u(s,w)))break;s=s[w]}return v||++h!=g?v:!!(g=null==s?0:s.length)&&ee(g)&&Wn(w,g)&&(ue(s)||yi(s))}function Af(s){return"function"!=typeof s.constructor||ms(s)?{}:po(Rr(s))}function Ha(s){return ue(s)||yi(s)||!!(Xl&&s&&s[Xl])}function Wn(s,a){var u=typeof s;return!!(a=null==a?Mr:a)&&("number"==u||"symbol"!=u&&sg.test(s))&&s>-1&&s%1==0&&s<a}function Rt(s,a,u){if(!re(u))return!1;var h=typeof a;return!!("number"==h?Jt(u)&&Wn(a,u.length):"string"==h&&a in u)&&fn(u[a],s)}function Va(s,a){if(ue(s))return!1;var u=typeof s;return!("number"!=u&&"symbol"!=u&&"boolean"!=u&&null!=s&&!Ot(s))||eg.test(s)||!Jp.test(s)||null!=a&&s in Ve(a)}function ja(s){var a=Oa(s),u=_[a];if("function"!=typeof u||!(a in De.prototype))return!1;if(s===u)return!0;var h=Ac(u);return!!h&&s===h[0]}(Zd&&Ft(new Zd(new ArrayBuffer(1)))!=ro||oi&&Ft(new oi)!=Jn||qt&&Ft(qt.resolve())!=Tl||ho&&Ft(new ho)!=Fn||Ni&&Ft(new Ni)!=Rn)&&(Ft=function(s){var a=Pt(s),u=a==ni?s.constructor:b,h=u?_i(u):"";if(h)switch(h){case nc:return ro;case Ag:return Jn;case si:return Tl;case Qd:return Fn;case rc:return Rn}return a});var Xg=Kl?Vr:Au;function ms(s){var a=s&&s.constructor;return s===("function"==typeof a&&a.prototype||Jo)}function Pf(s){return s==s&&!re(s)}function Ff(s,a){return function(u){return null!=u&&u[s]===a&&(a!==b||s in Ve(u))}}function em(s,a,u){return a=pt(a===b?s.length-1:a,0),function(){for(var h=arguments,g=-1,v=pt(h.length-a,0),w=x(v);++g<v;)w[g]=h[a+g];g=-1;for(var E=x(a+1);++g<a;)E[g]=h[g];return E[a]=u(w),yn(s,this,E)}}function tm(s,a){return a.length<2?s:mo(s,Vn(a,0,-1))}function jy(s,a){for(var u=s.length,h=ve(a.length,u),g=Xt(s);h--;){var v=a[h];s[h]=Wn(v,u)?g[v]:b}return s}function Rf(s,a){if(("constructor"!==a||"function"!=typeof s[a])&&"__proto__"!=a)return s[a]}var xc=Of(Bg),vs=Jl||function(s,a){return dt.setTimeout(s,a)},Pc=Of(Hg);function kf(s,a,u){var h=a+"";return Pc(s,function Hy(s,a){var u=a.length;if(!u)return s;var h=u-1;return a[h]=(u>1?"& ":"")+a[h],a=a.join(u>2?", ":" "),s.replace(bd,"{\n/* [wrapped with "+a+"] */\n")}(h,function pr(s,a){return yt(Kp,function(u){var h="_."+u[0];a&u[1]&&!oo(s,h)&&s.push(h)}),s.sort()}(function Na(s){var a=s.match(Cd);return a?a[1].split(Fl):[]}(h),u)))}function Of(s){var a=0,u=0;return function(){var h=qd(),g=16-(h-u);if(u=h,g>0){if(++a>=800)return arguments[0]}else a=0;return s.apply(b,arguments)}}function Fc(s,a){var u=-1,h=s.length,g=h-1;for(a=a===b?h:a;++u<a;){var v=us(u,g),w=s[v];s[v]=s[u],s[u]=w}return s.length=a,s}var Lf=function mi(s){var a=za(s,function(h){return 500===u.size&&u.clear(),h}),u=a.cache;return a}(function(s){var a=[];return 46===s.charCodeAt(0)&&a.push(""),s.replace(wd,function(u,h,g,v){a.push(g?v.replace(Ed,"$1"):h||u)}),a});function un(s){if("string"==typeof s||Ot(s))return s;var a=s+"";return"0"==a&&1/s==-qe?"-0":a}function _i(s){if(null!=s){try{return Gl.call(s)}catch(a){}try{return s+""}catch(a){}}return""}function Mo(s){if(s instanceof De)return s.clone();var a=new bn(s.__wrapped__,s.__chain__);return a.__actions__=Xt(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}var Uy=se(function(s,a){return et(s)?ci(s,wt(a,1,et,!0)):[]}),Wy=se(function(s,a){var u=bt(a);return et(u)&&(u=b),et(s)?ci(s,wt(a,1,et,!0),G(u,2)):[]}),$y=se(function(s,a){var u=bt(a);return et(u)&&(u=b),et(s)?ci(s,wt(a,1,et,!0),b,u):[]});function Lc(s,a,u){var h=null==s?0:s.length;if(!h)return-1;var g=null==u?0:he(u);return g<0&&(g=pt(h+g,0)),oa(s,G(a,3),g)}function Vf(s,a,u){var h=null==s?0:s.length;if(!h)return-1;var g=h-1;return u!==b&&(g=he(u),g=u<0?pt(h+g,0):ve(g,h-1)),oa(s,G(a,3),g,!0)}function jf(s){return null!=s&&s.length?wt(s,1):[]}function ys(s){return s&&s.length?s[0]:b}var om=se(function(s){var a=Ie(s,Qt);return a.length&&a[0]===s[0]?ui(a):[]}),ot=se(function(s){var a=bt(s),u=Ie(s,Qt);return a===bt(u)?a=b:u.pop(),u.length&&u[0]===s[0]?ui(u,G(a,2)):[]}),Wf=se(function(s){var a=bt(s),u=Ie(s,Qt);return(a="function"==typeof a?a:b)&&u.pop(),u.length&&u[0]===s[0]?ui(u,b,a):[]});function bt(s){var a=null==s?0:s.length;return a?s[a-1]:b}var lm=se(zf);function zf(s,a){return s&&s.length&&a&&a.length?bc(s,a):s}var Gy=jn(function(s,a){var u=null==s?0:s.length,h=ma(s,a);return Ia(s,Ie(a,function(g){return Wn(g,u)?+g:g}).sort(Sa)),h});function $i(s){return null==s?s:Mg.call(s)}var gm=se(function(s){return Tn(wt(s,1,et,!0))}),mm=se(function(s){var a=bt(s);return et(a)&&(a=b),Tn(wt(s,1,et,!0),G(a,2))}),Vc=se(function(s){var a=bt(s);return a="function"==typeof a?a:b,Tn(wt(s,1,et,!0),b,a)});function Uc(s){if(!s||!s.length)return[];var a=0;return s=nr(s,function(u){if(et(u))return a=pt(u.length,a),!0}),Pi(a,function(u){return Ie(s,rr(u))})}function Yf(s,a){if(!s||!s.length)return[];var u=Uc(s);return null==a?u:Ie(u,function(h){return yn(a,b,h)})}var ws=se(function(s,a){return et(s)?ci(s,a):[]}),ym=se(function(s){return mf(nr(s,et))}),Dm=se(function(s){var a=bt(s);return et(a)&&(a=b),mf(nr(s,et),G(a,2))}),wm=se(function(s){var a=bt(s);return a="function"==typeof a?a:b,mf(nr(s,et),b,a)}),bm=se(Uc),Em=se(function(s){var a=s.length,u=a>1?s[a-1]:b;return u="function"==typeof u?(s.pop(),u):b,Yf(s,u)});function Jf(s){var a=_(s);return a.__chain__=!0,a}function Ua(s,a){return a(s)}var Tm=jn(function(s){var a=s.length,u=a?s[0]:0,h=this.__wrapped__,g=function(v){return ma(v,s)};return!(a>1||this.__actions__.length)&&h instanceof De&&Wn(u)?((h=h.slice(u,+u+(a?1:0))).__actions__.push({func:Ua,args:[g],thisArg:b}),new bn(h,this.__chain__).thru(function(v){return a&&!v.length&&v.push(b),v})):this.thru(g)}),eh=Ma(function(s,a,u){ke.call(s,u)?++s[u]:Lr(s,u,1)}),Wc=Df(Lc),$c=Df(Vf);function zc(s,a){return(ue(s)?yt:cr)(s,G(a,3))}function Kc(s,a){return(ue(s)?Ne:fc)(s,G(a,3))}var Gc=Ma(function(s,a,u){ke.call(s,u)?s[u].push(a):Lr(s,u,[a])}),nh=se(function(s,a,u){var h=-1,g="function"==typeof a,v=Jt(s)?x(s.length):[];return cr(s,function(w){v[++h]=g?yn(a,w,u):dr(w,a,u)}),v}),Xy=Ma(function(s,a,u){Lr(s,u,a)});function Hr(s,a){return(ue(s)?Ie:yc)(s,G(a,3))}var rh=Ma(function(s,a,u){s[u?0:1].push(a)},function(){return[[],[]]}),ih=se(function(s,a){if(null==s)return[];var u=a.length;return u>1&&Rt(s,a[0],a[1])?a=[]:u>2&&Rt(a[0],a[1],a[2])&&(a=[a[0]]),df(s,wt(a,1),[])}),xo=wn||function(){return dt.Date.now()};function Wa(s,a,u){return a=u?b:a,Br(s,128,b,b,b,b,a=s&&null==a?s.length:a)}function sh(s,a){var u;if("function"!=typeof a)throw new Bn(rn);return s=he(s),function(){return--s>0&&(u=a.apply(this,arguments)),s<=1&&(a=b),u}}var Yc=se(function(s,a,u){var h=1;if(u.length){var g=cn(u,Un(Yc));h|=32}return Br(s,h,a,u,g)}),Xc=se(function(s,a,u){var h=3;if(u.length){var g=cn(u,Un(Xc));h|=32}return Br(a,h,s,u,g)});function eu(s,a,u){var h,g,v,w,E,T,R=0,O=!1,B=!1,V=!0;if("function"!=typeof s)throw new Bn(rn);function $(tt){var xn=h,_r=g;return h=g=b,R=tt,w=s.apply(_r,xn)}function q(tt){return R=tt,E=vs(ye,a),O?$(tt):w}function Q(tt){var xn=tt-T;return T===b||xn>=a||xn<0||B&&tt-R>=v}function ye(){var tt=xo();if(Q(tt))return we(tt);E=vs(ye,function ge(tt){var S_=a-(tt-T);return B?ve(S_,v-(tt-R)):S_}(tt))}function we(tt){return E=b,V&&h?$(tt):(h=g=b,w)}function Wt(){var tt=xo(),xn=Q(tt);if(h=arguments,g=this,T=tt,xn){if(E===b)return q(T);if(B)return Ic(E),E=vs(ye,a),$(T)}return E===b&&(E=vs(ye,a)),w}return a=Kn(a)||0,re(u)&&(O=!!u.leading,v=(B="maxWait"in u)?pt(Kn(u.maxWait)||0,a):v,V="trailing"in u?!!u.trailing:V),Wt.cancel=function An(){E!==b&&Ic(E),R=0,h=T=g=E=b},Wt.flush=function tn(){return E===b?w:we(xo())},Wt}var ah=se(function(s,a){return os(s,1,a)}),Bm=se(function(s,a,u){return os(s,Kn(a)||0,u)});function za(s,a){if("function"!=typeof s||null!=a&&"function"!=typeof a)throw new Bn(rn);var u=function(){var h=arguments,g=a?a.apply(this,h):h[0],v=u.cache;if(v.has(g))return v.get(g);var w=s.apply(this,h);return u.cache=v.set(g,w)||v,w};return u.cache=new(za.Cache||lr),u}function Cs(s){if("function"!=typeof s)throw new Bn(rn);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}za.Cache=lr;var ch=Ta(function(s,a){var u=(a=1==a.length&&ue(a[0])?Ie(a[0],Re(G())):Ie(wt(a,1),Re(G()))).length;return se(function(h){for(var g=-1,v=ve(h.length,u);++g<v;)h[g]=a[g].call(this,h[g]);return yn(s,this,h)})}),Es=se(function(s,a){var u=cn(a,Un(Es));return Br(s,32,b,a,u)}),tu=se(function(s,a){var u=cn(a,Un(tu));return Br(s,64,b,a,u)}),Ka=jn(function(s,a){return Br(s,256,b,b,b,a)});function fn(s,a){return s===a||s!=s&&a!=a}var ph=hs(ls),Jy=hs(function(s,a){return s>=a}),yi=ya(function(){return arguments}())?ya:function(s){return Qe(s)&&ke.call(s,"callee")&&!Gd.call(s,"callee")},ue=x.isArray,gh=On?Re(On):function Da(s){return Qe(s)&&Pt(s)==Gs};function Jt(s){return null!=s&&ee(s.length)&&!Vr(s)}function et(s){return Qe(s)&&Jt(s)}var Di=Ig||Au,mh=Bd?Re(Bd):function ky(s){return Qe(s)&&Pt(s)==Ai};function qa(s){if(!Qe(s))return!1;var a=Pt(s);return a==$o||"[object DOMException]"==a||"string"==typeof s.message&&"string"==typeof s.name&&!Po(s)}function Vr(s){if(!re(s))return!1;var a=Pt(s);return a==Il||a==qp||"[object AsyncFunction]"==a||"[object Proxy]"==a}function _h(s){return"number"==typeof s&&s==he(s)}function ee(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=Mr}function re(s){var a=typeof s;return null!=s&&("object"==a||"function"==a)}function Qe(s){return null!=s&&"object"==typeof s}var iu=Hd?Re(Hd):function Ng(s){return Qe(s)&&Ft(s)==Jn};function Qa(s){return"number"==typeof s||Qe(s)&&Pt(s)==zs}function Po(s){if(!Qe(s)||Pt(s)!=ni)return!1;var a=Rr(s);if(null===a)return!0;var u=ke.call(a,"constructor")&&a.constructor;return"function"==typeof u&&u instanceof u&&Gl.call(u)==zd}var Ts=Vd?Re(Vd):function mc(s){return Qe(s)&&Pt(s)==no},su=Dg?Re(Dg):function _c(s){return Qe(s)&&Ft(s)==Fn};function au(s){return"string"==typeof s||!ue(s)&&Qe(s)&&Pt(s)==Ks}function Ot(s){return"symbol"==typeof s||Qe(s)&&Pt(s)==Sl}var Ur=Pe?Re(Pe):function wa(s){return Qe(s)&&ee(s.length)&&!!Ue[Pt(s)]},tD=hs(ba),qm=hs(function(s,a){return s<=a});function yh(s){if(!s)return[];if(Jt(s))return au(s)?Xe(s):Xt(s);if(co&&s[co])return function so(I){for(var P,x=[];!(P=I.next()).done;)x.push(P.value);return x}(s[co]());var a=Ft(s);return(a==Jn?ce:a==Fn?ao:$r)(s)}function Wr(s){return s?(s=Kn(s))===qe||s===-qe?17976931348623157e292*(s<0?-1:1):s==s?s:0:0===s?s:0}function he(s){var a=Wr(s),u=a%1;return a==a?u?a-u:a:0}function du(s){return s?Vi(he(s),0,Xn):0}function Kn(s){if("number"==typeof s)return s;if(Ot(s))return NaN;if(re(s)){var a="function"==typeof s.valueOf?s.valueOf():s;s=re(a)?a+"":a}if("string"!=typeof s)return 0===s?s:+s;s=ii(s);var u=og.test(s);return u||Td.test(s)?Vl(s.slice(2),u?2:8):kl.test(s)?NaN:+s}function Dh(s){return hr(s,en(s))}function Me(s){return null==s?"":In(s)}var wh=Ui(function(s,a){if(ms(a)||Jt(a))hr(a,lt(a),s);else for(var u in a)ke.call(a,u)&&ns(s,u,a[u])}),bh=Ui(function(s,a){hr(a,en(a),s)}),Fo=Ui(function(s,a,u,h){hr(a,en(a),s,h)}),rD=Ui(function(s,a,u,h){hr(a,lt(a),s,h)}),iD=jn(ma),sD=se(function(s,a){s=Ve(s);var u=-1,h=a.length,g=h>2?a[2]:b;for(g&&Rt(a[0],a[1],g)&&(h=1);++u<h;)for(var v=a[u],w=en(v),E=-1,T=w.length;++E<T;){var R=w[E],O=s[R];(O===b||fn(O,Jo[R])&&!ke.call(s,R))&&(s[R]=v[R])}return s}),aD=se(function(s){return s.push(b,ps),yn(Eh,b,s)});function Ya(s,a,u){var h=null==s?b:mo(s,a);return h===b?u:h}function Xa(s,a){return null!=s&&Ba(s,a,sf)}var pu=bf(function(s,a,u){null!=a&&"function"!=typeof a.toString&&(a=ql.call(a)),s[a]=u},Cu(Ct)),Qm=bf(function(s,a,u){null!=a&&"function"!=typeof a.toString&&(a=ql.call(a)),ke.call(s,a)?s[a].push(u):s[a]=[u]},G),bi=se(dr);function lt(s){return Jt(s)?cc(s):vc(s)}function en(s){return Jt(s)?cc(s,!0):function cf(s){if(!re(s))return function Jg(s){var a=[];if(null!=s)for(var u in Ve(s))a.push(u);return a}(s);var a=ms(s),u=[];for(var h in s)"constructor"==h&&(a||!ke.call(s,h))||u.push(h);return u}(s)}var Ch=Ui(function(s,a,u){Ca(s,a,u)}),Eh=Ui(function(s,a,u,h){Ca(s,a,u,h)}),Xm=jn(function(s,a){var u={};if(null==s)return u;var h=!1;a=Ie(a,function(v){return v=Nr(v,s),h||(h=v.length>1),v}),hr(s,ka(s),u),h&&(u=En(u,7,Ef));for(var g=a.length;g--;)gf(u,a[g]);return u}),Ro=jn(function(s,a){return null==s?{}:function ff(s,a){return wc(s,a,function(u,h){return Xa(s,h)})}(s,a)});function Ja(s,a){if(null==s)return{};var u=Ie(ka(s),function(h){return[h]});return a=G(a),wc(s,u,function(h,g){return a(h,g[0])})}var Ih=Cf(lt),mu=Cf(en);function $r(s){return null==s?[]:Wl(s,lt(s))}var xh=fi(function(s,a,u){return a=a.toLowerCase(),s+(u?Ph(a):a)});function Ph(s){return bu(Me(s).toLowerCase())}function yu(s){return(s=Me(s))&&s.replace(ag,ln).replace(Sy,"")}var n_=fi(function(s,a,u){return s+(u?"-":"")+a.toLowerCase()}),r_=fi(function(s,a,u){return s+(u?" ":"")+a.toLowerCase()}),pD=Io("toLowerCase"),o_=fi(function(s,a,u){return s+(u?"_":"")+a.toLowerCase()}),a_=fi(function(s,a,u){return s+(u?" ":"")+bu(a)}),wu=fi(function(s,a,u){return s+(u?" ":"")+a.toUpperCase()}),bu=Io("toUpperCase");function Bh(s,a,u){return s=Me(s),(a=u?b:a)===b?function Qo(I){return Bl.test(I)}(s)?function Nn(I){return I.match(My)||[]}(s):function Wd(I){return I.match(Dy)||[]}(s):s.match(a)||[]}var f_=se(function(s,a){try{return yn(s,b,a)}catch(u){return qa(u)?u:new oe(u)}}),Hh=jn(function(s,a){return yt(a,function(u){u=un(u),Lr(s,u,Yc(s[u],s))}),s});function Cu(s){return function(){return s}}var g_=wf(),m_=wf(!0);function Ct(s){return s}function As(s){return cs("function"==typeof s?s:En(s,1))}var Tu=se(function(s,a){return function(u){return dr(u,s,a)}}),Vh=se(function(s,a){return function(u){return dr(s,u,a)}});function Su(s,a,u){var h=lt(a),g=pc(a,h);null==u&&(!re(a)||!g.length&&h.length)&&(u=a,a=s,s=this,g=pc(a,lt(a)));var v=!(re(u)&&"chain"in u&&!u.chain),w=Vr(s);return yt(g,function(E){var T=a[E];s[E]=T,w&&(s.prototype[E]=function(){var R=this.__chain__;if(v||R){var O=s(this.__wrapped__),B=O.__actions__=Xt(this.__actions__);return B.push({func:T,args:arguments,thisArg:s}),O.__chain__=R,O}return T.apply(s,Dn([this.value()],arguments))})}),s}function xs(){}var y_=xa(Ie),jh=xa(Go),Uh=xa(Ul);function Mu(s){return Va(s)?rr(un(s)):function Do(s){return function(a){return mo(a,s)}}(s)}var $h=Mc(),zr=Mc(!0);function Lo(){return[]}function Au(){return!1}var w_=pi(function(s,a){return s+a},0),Fu=Wi("ceil"),Kh=pi(function(s,a){return s/a},1),Gh=Wi("floor"),No=pi(function(s,a){return s*a},1),Qh=Wi("round"),I_=pi(function(s,a){return s-a},0);return _.after=function oh(s,a){if("function"!=typeof a)throw new Bn(rn);return s=he(s),function(){if(--s<1)return a.apply(this,arguments)}},_.ary=Wa,_.assign=wh,_.assignIn=bh,_.assignInWith=Fo,_.assignWith=rD,_.at=iD,_.before=sh,_.bind=Yc,_.bindAll=Hh,_.bindKey=Xc,_.castArray=function Is(){if(!arguments.length)return[];var s=arguments[0];return ue(s)?s:[s]},_.chain=Jf,_.chunk=function Nf(s,a,u){a=(u?Rt(s,a,u):a===b)?1:pt(he(a),0);var h=null==s?0:s.length;if(!h||a<1)return[];for(var g=0,v=0,w=x(ca(h/a));g<h;)w[v++]=Vn(s,g,g+=a);return w},_.compact=function Bf(s){for(var a=-1,u=null==s?0:s.length,h=0,g=[];++a<u;){var v=s[a];v&&(g[h++]=v)}return g},_.concat=function Hf(){var s=arguments.length;if(!s)return[];for(var a=x(s-1),u=arguments[0],h=s;h--;)a[h-1]=arguments[h];return Dn(ue(u)?Xt(u):[u],wt(a,1))},_.cond=function h_(s){var a=null==s?0:s.length,u=G();return s=a?Ie(s,function(h){if("function"!=typeof h[1])throw new Bn(rn);return[u(h[0]),h[1]]}):[],se(function(h){for(var g=-1;++g<a;){var v=s[g];if(yn(v[0],this,h))return yn(v[1],this,h)}})},_.conforms=function p_(s){return function kg(s){var a=lt(s);return function(u){return is(u,s,a)}}(En(s,1))},_.constant=Cu,_.countBy=eh,_.create=function oD(s,a){var u=po(s);return null==a?u:Ze(u,a)},_.curry=function Jc(s,a,u){var h=Br(s,8,b,b,b,b,b,a=u?b:a);return h.placeholder=Jc.placeholder,h},_.curryRight=function vi(s,a,u){var h=Br(s,16,b,b,b,b,b,a=u?b:a);return h.placeholder=vi.placeholder,h},_.debounce=eu,_.defaults=sD,_.defaultsDeep=aD,_.defer=ah,_.delay=Bm,_.difference=Uy,_.differenceBy=Wy,_.differenceWith=$y,_.drop=function Rc(s,a,u){var h=null==s?0:s.length;return h?Vn(s,(a=u||a===b?1:he(a))<0?0:a,h):[]},_.dropRight=function kc(s,a,u){var h=null==s?0:s.length;return h?Vn(s,0,(a=h-(a=u||a===b?1:he(a)))<0?0:a):[]},_.dropRightWhile=function Oc(s,a){return s&&s.length?bo(s,G(a,3),!0,!0):[]},_.dropWhile=function zy(s,a){return s&&s.length?bo(s,G(a,3),!0):[]},_.fill=function Ky(s,a,u,h){var g=null==s?0:s.length;return g?(u&&"number"!=typeof u&&Rt(s,a,u)&&(u=0,h=g),function ss(s,a,u,h){var g=s.length;for((u=he(u))<0&&(u=-u>g?0:g+u),(h=h===b||h>g?g:he(h))<0&&(h+=g),h=u>h?0:du(h);u<h;)s[u++]=a;return s}(s,a,u,h)):[]},_.filter=function dn(s,a){return(ue(s)?nr:rf)(s,G(a,3))},_.flatMap=function xm(s,a){return wt(Hr(s,a),1)},_.flatMapDeep=function th(s,a){return wt(Hr(s,a),qe)},_.flatMapDepth=function bs(s,a,u){return u=u===b?1:he(u),wt(Hr(s,a),u)},_.flatten=jf,_.flattenDeep=function nm(s){return null!=s&&s.length?wt(s,qe):[]},_.flattenDepth=function rm(s,a){return null!=s&&s.length?wt(s,a=a===b?1:he(a)):[]},_.flip=function $a(s){return Br(s,512)},_.flow=g_,_.flowRight=m_,_.fromPairs=function Uf(s){for(var a=-1,u=null==s?0:s.length,h={};++a<u;){var g=s[a];h[g[0]]=g[1]}return h},_.functions=function fu(s){return null==s?[]:pc(s,lt(s))},_.functionsIn=function Zm(s){return null==s?[]:pc(s,en(s))},_.groupBy=Gc,_.initial=function Nc(s){return null!=s&&s.length?Vn(s,0,-1):[]},_.intersection=om,_.intersectionBy=ot,_.intersectionWith=Wf,_.invert=pu,_.invertBy=Qm,_.invokeMap=nh,_.iteratee=As,_.keyBy=Xy,_.keys=lt,_.keysIn=en,_.map=Hr,_.mapKeys=function gu(s,a){var u={};return a=G(a,3),ur(s,function(h,g,v){Lr(u,a(h,g,v),h)}),u},_.mapValues=function Ym(s,a){var u={};return a=G(a,3),ur(s,function(h,g,v){Lr(u,g,a(h,g,v))}),u},_.matches=function __(s){return Dc(En(s,1))},_.matchesProperty=function Iu(s,a){return uf(s,En(a,1))},_.memoize=za,_.merge=Ch,_.mergeWith=Eh,_.method=Tu,_.methodOf=Vh,_.mixin=Su,_.negate=Cs,_.nthArg=function _D(s){return s=he(s),se(function(a){return yo(a,s)})},_.omit=Xm,_.omitBy=function Ss(s,a){return Ja(s,Cs(G(a)))},_.once=function lh(s){return sh(2,s)},_.orderBy=function Zc(s,a,u,h){return null==s?[]:(ue(a)||(a=null==a?[]:[a]),ue(u=h?b:u)||(u=null==u?[]:[u]),df(s,a,u))},_.over=y_,_.overArgs=ch,_.overEvery=jh,_.overSome=Uh,_.partial=Es,_.partialRight=tu,_.partition=rh,_.pick=Ro,_.pickBy=Ja,_.property=Mu,_.propertyOf=function Wh(s){return function(a){return null==s?b:mo(s,a)}},_.pull=lm,_.pullAll=zf,_.pullAllBy=function cm(s,a,u){return s&&s.length&&a&&a.length?bc(s,a,G(u,2)):s},_.pullAllWith=function um(s,a,u){return s&&s.length&&a&&a.length?bc(s,a,b,u):s},_.pullAt=Gy,_.range=$h,_.rangeRight=zr,_.rearg=Ka,_.reject=function Fm(s,a){return(ue(s)?nr:rf)(s,Cs(G(a,3)))},_.remove=function qy(s,a){var u=[];if(!s||!s.length)return u;var h=-1,g=[],v=s.length;for(a=G(a,3);++h<v;){var w=s[h];a(w,h,s)&&(u.push(w),g.push(h))}return Ia(s,g),u},_.rest=function Ga(s,a){if("function"!=typeof s)throw new Bn(rn);return se(s,a=a===b?a:he(a))},_.reverse=$i,_.sampleSize=function km(s,a,u){return a=(u?Rt(s,a,u):a===b)?1:he(a),(ue(s)?nf:Cc)(s,a)},_.set=function Ms(s,a,u){return null==s?s:fr(s,a,u)},_.setWith=function Oo(s,a,u,h){return h="function"==typeof h?h:b,null==s?s:fr(s,a,u,h)},_.shuffle=function Om(s){return(ue(s)?ga:de)(s)},_.slice=function Ut(s,a,u){var h=null==s?0:s.length;return h?(u&&"number"!=typeof u&&Rt(s,a,u)?(a=0,u=h):(a=null==a?0:he(a),u=u===b?h:he(u)),Vn(s,a,u)):[]},_.sortBy=ih,_.sortedUniq=function dm(s){return s&&s.length?Vg(s):[]},_.sortedUniqBy=function fm(s,a){return s&&s.length?Vg(s,G(a,2)):[]},_.split=function s_(s,a,u){return u&&"number"!=typeof u&&Rt(s,a,u)&&(a=u=b),(u=u===b?Xn:u>>>0)?(s=Me(s))&&("string"==typeof a||null!=a&&!Ts(a))&&!(a=In(a))&&He(s)?Mn(Xe(s),0,u):s.split(a,u):[]},_.spread=function uh(s,a){if("function"!=typeof s)throw new Bn(rn);return a=null==a?0:pt(he(a),0),se(function(u){var h=u[a],g=Mn(u,0,a);return h&&Dn(g,h),yn(s,this,g)})},_.tail=function qf(s){var a=null==s?0:s.length;return a?Vn(s,1,a):[]},_.take=function hm(s,a,u){return s&&s.length?Vn(s,0,(a=u||a===b?1:he(a))<0?0:a):[]},_.takeRight=function Zf(s,a,u){var h=null==s?0:s.length;return h?Vn(s,(a=h-(a=u||a===b?1:he(a)))<0?0:a,h):[]},_.takeRightWhile=function pm(s,a){return s&&s.length?bo(s,G(a,3),!1,!0):[]},_.takeWhile=function Qf(s,a){return s&&s.length?bo(s,G(a,3)):[]},_.tap=function Im(s,a){return a(s),s},_.throttle=function nu(s,a,u){var h=!0,g=!0;if("function"!=typeof s)throw new Bn(rn);return re(u)&&(h="leading"in u?!!u.leading:h,g="trailing"in u?!!u.trailing:g),eu(s,a,{leading:h,maxWait:a,trailing:g})},_.thru=Ua,_.toArray=yh,_.toPairs=Ih,_.toPairsIn=mu,_.toPath=function Pu(s){return ue(s)?Ie(s,un):Ot(s)?[s]:Xt(Lf(Me(s)))},_.toPlainObject=Dh,_.transform=function Th(s,a,u){var h=ue(s),g=h||Di(s)||Ur(s);if(a=G(a,4),null==u){var v=s&&s.constructor;u=g?h?new v:[]:re(s)&&Vr(v)?po(Rr(s)):{}}return(g?yt:ur)(s,function(w,E,T){return a(u,w,E,T)}),u},_.unary=function dh(s){return Wa(s,1)},_.union=gm,_.unionBy=mm,_.unionWith=Vc,_.uniq=function _m(s){return s&&s.length?Tn(s):[]},_.uniqBy=function vm(s,a){return s&&s.length?Tn(s,G(a,2)):[]},_.uniqWith=function jc(s,a){return a="function"==typeof a?a:b,s&&s.length?Tn(s,b,a):[]},_.unset=function _u(s,a){return null==s||gf(s,a)},_.unzip=Uc,_.unzipWith=Yf,_.update=function vu(s,a,u){return null==s?s:it(s,a,Sn(u))},_.updateWith=function Sh(s,a,u,h){return h="function"==typeof h?h:b,null==s?s:it(s,a,Sn(u),h)},_.values=$r,_.valuesIn=function Jm(s){return null==s?[]:Wl(s,en(s))},_.without=ws,_.words=Bh,_.wrap=function ru(s,a){return Es(Sn(a),s)},_.xor=ym,_.xorBy=Dm,_.xorWith=wm,_.zip=bm,_.zipObject=function Cm(s,a){return _f(s||[],a||[],ns)},_.zipObjectDeep=function Xf(s,a){return _f(s||[],a||[],fr)},_.zipWith=Em,_.entries=Ih,_.entriesIn=mu,_.extend=bh,_.extendWith=Fo,Su(_,_),_.add=w_,_.attempt=f_,_.camelCase=xh,_.capitalize=Ph,_.ceil=Fu,_.clamp=function Mh(s,a,u){return u===b&&(u=a,a=b),u!==b&&(u=(u=Kn(u))==u?u:0),a!==b&&(a=(a=Kn(a))==a?a:0),Vi(Kn(s),a,u)},_.clone=function Hm(s){return En(s,4)},_.cloneDeep=function Vm(s){return En(s,5)},_.cloneDeepWith=function jm(s,a){return En(s,5,a="function"==typeof a?a:b)},_.cloneWith=function fh(s,a){return En(s,4,a="function"==typeof a?a:b)},_.conformsTo=function hh(s,a){return null==a||is(s,a,lt(a))},_.deburr=yu,_.defaultTo=function Eu(s,a){return null==s||s!=s?a:s},_.divide=Kh,_.endsWith=function e_(s,a,u){s=Me(s),a=In(a);var h=s.length,g=u=u===b?h:Vi(he(u),0,h);return(u-=a.length)>=0&&s.slice(u,g)==a},_.eq=fn,_.escape=function t_(s){return(s=Me(s))&&yd.test(s)?s.replace(xl,Fi):s},_.escapeRegExp=function hn(s){return(s=Me(s))&&tg.test(s)?s.replace(Pl,"\\$&"):s},_.every=function Yy(s,a,u){var h=ue(s)?Go:Og;return u&&Rt(s,a,u)&&(a=b),h(s,G(a,3))},_.find=Wc,_.findIndex=Lc,_.findKey=function lD(s,a){return Pr(s,G(a,3),ur)},_.findLast=$c,_.findLastIndex=Vf,_.findLastKey=function cD(s,a){return Pr(s,G(a,3),hc)},_.floor=Gh,_.forEach=zc,_.forEachRight=Kc,_.forIn=function uD(s,a){return null==s?s:ji(s,G(a,3),en)},_.forInRight=function dD(s,a){return null==s?s:_a(s,G(a,3),en)},_.forOwn=function fD(s,a){return s&&ur(s,G(a,3))},_.forOwnRight=function wi(s,a){return s&&hc(s,G(a,3))},_.get=Ya,_.gt=ph,_.gte=Jy,_.has=function hu(s,a){return null!=s&&Ba(s,a,va)},_.hasIn=Xa,_.head=ys,_.identity=Ct,_.includes=function qc(s,a,u,h){s=Jt(s)?s:$r(s),u=u&&!h?he(u):0;var g=s.length;return u<0&&(u=pt(g+u,0)),au(s)?u<=g&&s.indexOf(a,u)>-1:!!g&&xi(s,a,u)>-1},_.indexOf=function im(s,a,u){var h=null==s?0:s.length;if(!h)return-1;var g=null==u?0:he(u);return g<0&&(g=pt(h+g,0)),xi(s,a,g)},_.inRange=function hD(s,a,u){return a=Wr(a),u===b?(u=a,a=0):u=Wr(u),function af(s,a,u){return s>=ve(a,u)&&s<pt(a,u)}(s=Kn(s),a,u)},_.invoke=bi,_.isArguments=yi,_.isArray=ue,_.isArrayBuffer=gh,_.isArrayLike=Jt,_.isArrayLikeObject=et,_.isBoolean=function $n(s){return!0===s||!1===s||Qe(s)&&Pt(s)==to},_.isBuffer=Di,_.isDate=mh,_.isElement=function Um(s){return Qe(s)&&1===s.nodeType&&!Po(s)},_.isEmpty=function Wm(s){if(null==s)return!0;if(Jt(s)&&(ue(s)||"string"==typeof s||"function"==typeof s.splice||Di(s)||Ur(s)||yi(s)))return!s.length;var a=Ft(s);if(a==Jn||a==Fn)return!s.size;if(ms(s))return!vc(s).length;for(var u in s)if(ke.call(s,u))return!1;return!0},_.isEqual=function $m(s,a){return _o(s,a)},_.isEqualWith=function zm(s,a,u){var h=(u="function"==typeof u?u:b)?u(s,a):b;return h===b?_o(s,a,b,u):!!h},_.isError=qa,_.isFinite=function Km(s){return"number"==typeof s&&ua(s)},_.isFunction=Vr,_.isInteger=_h,_.isLength=ee,_.isMap=iu,_.isMatch=function Za(s,a){return s===a||gc(s,a,Tf(a))},_.isMatchWith=function zn(s,a,u){return u="function"==typeof u?u:b,gc(s,a,Tf(a),u)},_.isNaN=function vh(s){return Qa(s)&&s!=+s},_.isNative=function Gm(s){if(Xg(s))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return vo(s)},_.isNil=function jr(s){return null==s},_.isNull=function ou(s){return null===s},_.isNumber=Qa,_.isObject=re,_.isObjectLike=Qe,_.isPlainObject=Po,_.isRegExp=Ts,_.isSafeInteger=function eD(s){return _h(s)&&s>=-Mr&&s<=Mr},_.isSet=su,_.isString=au,_.isSymbol=Ot,_.isTypedArray=Ur,_.isUndefined=function lu(s){return s===b},_.isWeakMap=function cu(s){return Qe(s)&&Ft(s)==Rn},_.isWeakSet=function uu(s){return Qe(s)&&"[object WeakSet]"==Pt(s)},_.join=function sm(s,a){return null==s?"":Tg.call(s,a)},_.kebabCase=n_,_.last=bt,_.lastIndexOf=function $f(s,a,u){var h=null==s?0:s.length;if(!h)return-1;var g=h;return u!==b&&(g=(g=he(u))<0?pt(h+g,0):ve(g,h-1)),a==a?function Xo(I,P,x){for(var W=x+1;W--;)if(I[W]===P)return W;return W}(s,a,g):oa(s,Vt,g,!0)},_.lowerCase=r_,_.lowerFirst=pD,_.lt=tD,_.lte=qm,_.max=function qh(s){return s&&s.length?Hn(s,Ct,ls):b},_.maxBy=function b_(s,a){return s&&s.length?Hn(s,G(a,2),ls):b},_.mean=function Ru(s){return Dt(s,Ct)},_.meanBy=function C_(s,a){return Dt(s,G(a,2))},_.min=function E_(s){return s&&s.length?Hn(s,Ct,ba):b},_.minBy=function Zh(s,a){return s&&s.length?Hn(s,G(a,2),ba):b},_.stubArray=Lo,_.stubFalse=Au,_.stubObject=function D_(){return{}},_.stubString=function vD(){return""},_.stubTrue=function xu(){return!0},_.multiply=No,_.nth=function am(s,a){return s&&s.length?yo(s,he(a)):b},_.noConflict=function v_(){return dt._===this&&(dt._=Zl),this},_.noop=xs,_.now=xo,_.pad=function gD(s,a,u){s=Me(s);var h=(a=he(a))?Ln(s):0;if(!a||h>=a)return s;var g=(a-h)/2;return Pa(fo(g),u)+s+Pa(ca(g),u)},_.padEnd=function Fh(s,a,u){s=Me(s);var h=(a=he(a))?Ln(s):0;return a&&h<a?s+Pa(a-h,u):s},_.padStart=function mD(s,a,u){s=Me(s);var h=(a=he(a))?Ln(s):0;return a&&h<a?Pa(a-h,u)+s:s},_.parseInt=function i_(s,a,u){return u||null==a?a=0:a&&(a=+a),Sg(Me(s).replace(er,""),a||0)},_.random=function Ah(s,a,u){if(u&&"boolean"!=typeof u&&Rt(s,a,u)&&(a=u=b),u===b&&("boolean"==typeof a?(u=a,a=b):"boolean"==typeof s&&(u=s,s=b)),s===b&&a===b?(s=0,a=1):(s=Wr(s),a===b?(a=s,s=0):a=Wr(a)),s>a){var h=s;s=a,a=h}if(u||s%1||a%1){var g=Je();return ve(s+g*(a-s+le("1e-"+((g+"").length-1))),a)}return us(s,a)},_.reduce=function Pm(s,a,u){var h=ue(s)?jl:an,g=arguments.length<3;return h(s,G(a,4),u,g,cr)},_.reduceRight=function Qc(s,a,u){var h=ue(s)?qo:an,g=arguments.length<3;return h(s,G(a,4),u,g,fc)},_.repeat=function Du(s,a,u){return a=(u?Rt(s,a,u):a===b)?1:he(a),di(Me(s),a)},_.replace=function Rh(){var s=arguments,a=Me(s[0]);return s.length<3?a:a.replace(s[1],s[2])},_.result=function ko(s,a,u){var h=-1,g=(a=Nr(a,s)).length;for(g||(g=1,s=b);++h<g;){var v=null==s?b:s[un(a[h])];v===b&&(h=g,v=u),s=Vr(v)?v.call(s):v}return s},_.round=Qh,_.runInContext=I,_.sample=function Rm(s){return(ue(s)?uc:hf)(s)},_.size=function Lm(s){if(null==s)return 0;if(Jt(s))return au(s)?Ln(s):s.length;var a=Ft(s);return a==Jn||a==Fn?s.size:vc(s).length},_.snakeCase=o_,_.some=function Nm(s,a,u){var h=ue(s)?Ul:Oy;return u&&Rt(s,a,u)&&(a=b),h(s,G(a,3))},_.sortedIndex=function Bc(s,a){return Ec(s,a)},_.sortedIndexBy=function Kf(s,a,u){return pf(s,a,G(u,2))},_.sortedIndexOf=function Gf(s,a){var u=null==s?0:s.length;if(u){var h=Ec(s,a);if(h<u&&fn(s[h],a))return h}return-1},_.sortedLastIndex=function kt(s,a){return Ec(s,a,!0)},_.sortedLastIndexBy=function Ds(s,a,u){return pf(s,a,G(u,2),!0)},_.sortedLastIndexOf=function Hc(s,a){if(null!=s&&s.length){var h=Ec(s,a,!0)-1;if(fn(s[h],a))return h}return-1},_.startCase=a_,_.startsWith=function kh(s,a,u){return s=Me(s),u=null==u?0:Vi(he(u),0,s.length),a=In(a),s.slice(u,u+a.length)==a},_.subtract=I_,_.sum=function T_(s){return s&&s.length?Zo(s,Ct):0},_.sumBy=function Bo(s,a){return s&&s.length?Zo(s,G(a,2)):0},_.template=function l_(s,a,u){var h=_.templateSettings;u&&Rt(s,a,u)&&(a=b),s=Me(s),a=Fo({},a,h,Ra);var E,T,g=Fo({},a.imports,h.imports,Ra),v=lt(g),w=Wl(g,v),R=0,O=a.interpolate||Ys,B="__p += '",V=$d((a.escape||Ys).source+"|"+O.source+"|"+(O===Dd?Rl:Ys).source+"|"+(a.evaluate||Ys).source+"|$","g"),$="//# sourceURL="+(ke.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_g+"]")+"\n";s.replace(V,function(Q,ye,we,An,tn,Wt){return we||(we=An),B+=s.slice(R,Wt).replace(lg,ft),ye&&(E=!0,B+="' +\n__e("+ye+") +\n'"),tn&&(T=!0,B+="';\n"+tn+";\n__p += '"),we&&(B+="' +\n((__t = ("+we+")) == null ? '' : __t) +\n'"),R=Wt+Q.length,Q}),B+="';\n";var q=ke.call(a,"variable")&&a.variable;if(q){if(rg.test(q))throw new oe("Invalid `variable` option passed into `_.template`")}else B="with (obj) {\n"+B+"\n}\n";B=(T?B.replace(md,""):B).replace(_d,"$1").replace(Yp,"$1;"),B="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(T?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+B+"return __p\n}";var ge=f_(function(){return Se(v,$+"return "+B).apply(b,w)});if(ge.source=B,qa(ge))throw ge;return ge},_.times=function zh(s,a){if((s=he(s))<1||s>Mr)return[];var u=Xn,h=ve(s,Xn);a=G(a),s-=Xn;for(var g=Pi(h,a);++u<s;)a(u);return g},_.toFinite=Wr,_.toInteger=he,_.toLength=du,_.toLower=function Oh(s){return Me(s).toLowerCase()},_.toNumber=Kn,_.toSafeInteger=function nD(s){return s?Vi(he(s),-Mr,Mr):0===s?s:0},_.toString=Me,_.toUpper=function c_(s){return Me(s).toUpperCase()},_.trim=function u_(s,a,u){if((s=Me(s))&&(u||a===b))return ii(s);if(!s||!(a=In(a)))return s;var h=Xe(s),g=Xe(a);return Mn(h,j(h,g),pe(h,g)+1).join("")},_.trimEnd=function Lh(s,a,u){if((s=Me(s))&&(u||a===b))return s.slice(0,Be(s)+1);if(!s||!(a=In(a)))return s;var h=Xe(s);return Mn(h,0,pe(h,Xe(a))+1).join("")},_.trimStart=function Nh(s,a,u){if((s=Me(s))&&(u||a===b))return s.replace(er,"");if(!s||!(a=In(a)))return s;var h=Xe(s);return Mn(h,j(h,Xe(a))).join("")},_.truncate=function d_(s,a){var u=30,h="...";if(re(a)){var g="separator"in a?a.separator:g;u="length"in a?he(a.length):u,h="omission"in a?In(a.omission):h}var v=(s=Me(s)).length;if(He(s)){var w=Xe(s);v=w.length}if(u>=v)return s;var E=u-Ln(h);if(E<1)return h;var T=w?Mn(w,0,E).join(""):s.slice(0,E);if(g===b)return T+h;if(w&&(E+=T.length-E),Ts(g)){if(s.slice(E).search(g)){var R,O=T;for(g.global||(g=$d(g.source,Me(ig.exec(g))+"g")),g.lastIndex=0;R=g.exec(O);)var B=R.index;T=T.slice(0,B===b?E:B)}}else if(s.indexOf(In(g),E)!=E){var V=T.lastIndexOf(g);V>-1&&(T=T.slice(0,V))}return T+h},_.unescape=function mr(s){return(s=Me(s))&&vd.test(s)?s.replace(Al,wg):s},_.uniqueId=function Ps(s){var a=++Fy;return Me(s)+a},_.upperCase=wu,_.upperFirst=bu,_.each=zc,_.eachRight=Kc,_.first=ys,Su(_,function(){var s={};return ur(_,function(a,u){ke.call(_.prototype,u)||(s[u]=a)}),s}(),{chain:!1}),_.VERSION="4.17.21",yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){_[s].placeholder=_}),yt(["drop","take"],function(s,a){De.prototype[s]=function(u){u=u===b?1:pt(he(u),0);var h=this.__filtered__&&!a?new De(this):this.clone();return h.__filtered__?h.__takeCount__=ve(u,h.__takeCount__):h.__views__.push({size:ve(u,Xn),type:s+(h.__dir__<0?"Right":"")}),h},De.prototype[s+"Right"]=function(u){return this.reverse()[s](u).reverse()}}),yt(["filter","map","takeWhile"],function(s,a){var u=a+1,h=1==u||3==u;De.prototype[s]=function(g){var v=this.clone();return v.__iteratees__.push({iteratee:G(g,3),type:u}),v.__filtered__=v.__filtered__||h,v}}),yt(["head","last"],function(s,a){var u="take"+(a?"Right":"");De.prototype[s]=function(){return this[u](1).value()[0]}}),yt(["initial","tail"],function(s,a){var u="drop"+(a?"":"Right");De.prototype[s]=function(){return this.__filtered__?new De(this):this[u](1)}}),De.prototype.compact=function(){return this.filter(Ct)},De.prototype.find=function(s){return this.filter(s).head()},De.prototype.findLast=function(s){return this.reverse().find(s)},De.prototype.invokeMap=se(function(s,a){return"function"==typeof s?new De(this):this.map(function(u){return dr(u,s,a)})}),De.prototype.reject=function(s){return this.filter(Cs(G(s)))},De.prototype.slice=function(s,a){s=he(s);var u=this;return u.__filtered__&&(s>0||a<0)?new De(u):(s<0?u=u.takeRight(-s):s&&(u=u.drop(s)),a!==b&&(u=(a=he(a))<0?u.dropRight(-a):u.take(a-s)),u)},De.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},De.prototype.toArray=function(){return this.take(Xn)},ur(De.prototype,function(s,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),h=/^(?:head|last)$/.test(a),g=_[h?"take"+("last"==a?"Right":""):a],v=h||/^find/.test(a);!g||(_.prototype[a]=function(){var w=this.__wrapped__,E=h?[1]:arguments,T=w instanceof De,R=E[0],O=T||ue(w),B=function(ye){var we=g.apply(_,Dn([ye],E));return h&&V?we[0]:we};O&&u&&"function"==typeof R&&1!=R.length&&(T=O=!1);var V=this.__chain__,$=!!this.__actions__.length,q=v&&!V,ge=T&&!$;if(!v&&O){w=ge?w:new De(this);var Q=s.apply(w,E);return Q.__actions__.push({func:Ua,args:[B],thisArg:b}),new bn(Q,V)}return q&&ge?s.apply(this,E):(Q=this.thru(B),q?h?Q.value()[0]:Q.value():Q)})}),yt(["pop","push","shift","sort","splice","unshift"],function(s){var a=zl[s],u=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",h=/^(?:pop|shift)$/.test(s);_.prototype[s]=function(){var g=arguments;if(h&&!this.__chain__){var v=this.value();return a.apply(ue(v)?v:[],g)}return this[u](function(w){return a.apply(ue(w)?w:[],g)})}}),ur(De.prototype,function(s,a){var u=_[a];if(u){var h=u.name+"";ke.call(Bi,h)||(Bi[h]=[]),Bi[h].push({name:a,func:u})}}),Bi[fs(b,2).name]=[{name:"wrapper",func:b}],De.prototype.clone=function N(){var s=new De(this.__wrapped__);return s.__actions__=Xt(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Xt(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Xt(this.__views__),s},De.prototype.reverse=function Ee(){if(this.__filtered__){var s=new De(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},De.prototype.value=function Zt(){var s=this.__wrapped__.value(),a=this.__dir__,u=ue(s),h=a<0,g=u?s.length:0,v=function Zg(s,a,u){for(var h=-1,g=u.length;++h<g;){var v=u[h],w=v.size;switch(v.type){case"drop":s+=w;break;case"dropRight":a-=w;break;case"take":a=ve(a,s+w);break;case"takeRight":s=pt(s,a-w)}}return{start:s,end:a}}(0,g,this.__views__),w=v.start,E=v.end,T=E-w,R=h?E:w-1,O=this.__iteratees__,B=O.length,V=0,$=ve(T,this.__takeCount__);if(!u||!h&&g==T&&$==T)return Co(s,this.__actions__);var q=[];e:for(;T--&&V<$;){for(var ge=-1,Q=s[R+=a];++ge<B;){var ye=O[ge],An=ye.type,tn=(0,ye.iteratee)(Q);if(2==An)Q=tn;else if(!tn){if(1==An)continue e;break e}}q[V++]=Q}return q},_.prototype.at=Tm,_.prototype.chain=function Sm(){return Jf(this)},_.prototype.commit=function Mm(){return new bn(this.value(),this.__chain__)},_.prototype.next=function Am(){this.__values__===b&&(this.__values__=yh(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?b:this.__values__[this.__index__++]}},_.prototype.plant=function gr(s){for(var a,u=this;u instanceof es;){var h=Mo(u);h.__index__=0,h.__values__=b,a?g.__wrapped__=h:a=h;var g=h;u=u.__wrapped__}return g.__wrapped__=s,a},_.prototype.reverse=function Zy(){var s=this.__wrapped__;if(s instanceof De){var a=s;return this.__actions__.length&&(a=new De(this)),(a=a.reverse()).__actions__.push({func:Ua,args:[$i],thisArg:b}),new bn(a,this.__chain__)}return this.thru($i)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function Qy(){return Co(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,co&&(_.prototype[co]=function Ao(){return this}),_}();dt._=ki,($e=function(){return ki}.call(Qi,wl,Qi,Ir))!==b&&(Ir.exports=$e)}.call(this)}},Ir=>{Ir(Ir.s=0)}]);